<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>.NET Core 下的 API 网关 | 📖Documents</title>
    <meta name="generator" content="VuePress 1.8.2">
    <script>var _mtac = {"senseQuery":1};(function() { var mta = document.createElement("script");mta.src = "//pingjs.qq.com/h5/stats.js?v2.0.4";mta.setAttribute("name", "MTAH5");mta.setAttribute("sid", "500727760");mta.setAttribute("cid", "500727761");var s = document.getElementsByTagName("script")[0];s.parentNode.insertBefore(mta, s); })();</script>
    <script src="/live2d/L2Dwidget.min.js"></script>
    <script>
        const models = [
            '/live2d/live2d-widget-model-epsilon2_1/assets/Epsilon2.1.model.json',
            '/live2d/live2d-widget-model-haru/01/assets/haru01.model.json',
            '/live2d/live2d-widget-model-haru/02/assets/haru02.model.json',
            '/live2d/live2d-widget-model-haruto/assets/haruto.model.json',
            '/live2d/live2d-widget-model-koharu/assets/koharu.model.json',
            '/live2d/live2d-widget-model-hijiki/assets/hijiki.model.json',
            '/live2d/live2d-widget-model-tororo/assets/tororo.model.json',
            '/live2d/live2d-widget-model-izumi/assets/izumi.model.json',
            '/live2d/live2d-widget-model-miku/assets/miku.model.json',
            '/live2d/live2d-widget-model-shizuku/assets/shizuku.model.json',
            '/live2d/live2d-widget-model-wanko/assets/wanko.model.json',
            '/live2d/live2d-widget-model-z16/assets/z16.model.json'
        ];
        L2Dwidget.init({
            "model": {
                jsonPath: models[parseInt(Math.random() * (models.length))]
            },
            "display": {
                "position": "left",
                "width": 150,
                "height": 210,
                "hOffset": 5,
                "vOffset": 5,
                "superSample": 1,
            },
            "mobile": {
                "scale": 1,
                "show": true,
                "motion": true,
            },
            "react": {
                "opacityDefault": .5,
                "opacityOnHover": .2
            }
        });
    </script>
    <meta name="description" content="This is a personal document library for development work">
    
    <link rel="preload" href="/assets/css/0.styles.74392c83.css" as="style"><link rel="preload" href="/assets/js/app.ed0b211b.js" as="script"><link rel="preload" href="/assets/js/2.f12253fb.js" as="script"><link rel="preload" href="/assets/js/34.be4ff9ac.js" as="script"><link rel="prefetch" href="/assets/js/10.daa32c3b.js"><link rel="prefetch" href="/assets/js/100.3cb79568.js"><link rel="prefetch" href="/assets/js/101.a977f6b3.js"><link rel="prefetch" href="/assets/js/102.4e8e57ee.js"><link rel="prefetch" href="/assets/js/103.d9103ade.js"><link rel="prefetch" href="/assets/js/104.5c5421aa.js"><link rel="prefetch" href="/assets/js/105.23b327ff.js"><link rel="prefetch" href="/assets/js/106.d4486158.js"><link rel="prefetch" href="/assets/js/107.19880594.js"><link rel="prefetch" href="/assets/js/108.d6a25fc1.js"><link rel="prefetch" href="/assets/js/109.fdf4ec1c.js"><link rel="prefetch" href="/assets/js/11.54be1709.js"><link rel="prefetch" href="/assets/js/110.83d79c24.js"><link rel="prefetch" href="/assets/js/111.becc0349.js"><link rel="prefetch" href="/assets/js/112.9a400b2a.js"><link rel="prefetch" href="/assets/js/113.23dae34b.js"><link rel="prefetch" href="/assets/js/114.4a7e89be.js"><link rel="prefetch" href="/assets/js/115.4ff7a1e7.js"><link rel="prefetch" href="/assets/js/116.29dc7b18.js"><link rel="prefetch" href="/assets/js/117.9f598e42.js"><link rel="prefetch" href="/assets/js/118.5b37cfa5.js"><link rel="prefetch" href="/assets/js/119.a84a102a.js"><link rel="prefetch" href="/assets/js/12.8ceac50d.js"><link rel="prefetch" href="/assets/js/120.317487c8.js"><link rel="prefetch" href="/assets/js/121.0fb14a0f.js"><link rel="prefetch" href="/assets/js/122.d230a591.js"><link rel="prefetch" href="/assets/js/123.f5c7a855.js"><link rel="prefetch" href="/assets/js/124.7b31461e.js"><link rel="prefetch" href="/assets/js/125.52438099.js"><link rel="prefetch" href="/assets/js/126.bb8d2661.js"><link rel="prefetch" href="/assets/js/127.d624bcca.js"><link rel="prefetch" href="/assets/js/128.381f35dc.js"><link rel="prefetch" href="/assets/js/129.5545186c.js"><link rel="prefetch" href="/assets/js/13.0b94f29e.js"><link rel="prefetch" href="/assets/js/130.e4e47259.js"><link rel="prefetch" href="/assets/js/131.f0de7e15.js"><link rel="prefetch" href="/assets/js/132.47e0a185.js"><link rel="prefetch" href="/assets/js/133.5c83be25.js"><link rel="prefetch" href="/assets/js/134.73f4522e.js"><link rel="prefetch" href="/assets/js/135.38823d13.js"><link rel="prefetch" href="/assets/js/136.dc76c035.js"><link rel="prefetch" href="/assets/js/137.890db8ae.js"><link rel="prefetch" href="/assets/js/138.1974ff0c.js"><link rel="prefetch" href="/assets/js/139.8beb7c11.js"><link rel="prefetch" href="/assets/js/14.519a0bab.js"><link rel="prefetch" href="/assets/js/140.497414c5.js"><link rel="prefetch" href="/assets/js/141.5c3d37dc.js"><link rel="prefetch" href="/assets/js/142.445ea675.js"><link rel="prefetch" href="/assets/js/143.348395c9.js"><link rel="prefetch" href="/assets/js/144.abe05a7b.js"><link rel="prefetch" href="/assets/js/145.a53120ed.js"><link rel="prefetch" href="/assets/js/146.25fef87c.js"><link rel="prefetch" href="/assets/js/147.6850750e.js"><link rel="prefetch" href="/assets/js/148.e14bec4f.js"><link rel="prefetch" href="/assets/js/149.c020aa56.js"><link rel="prefetch" href="/assets/js/15.529c7336.js"><link rel="prefetch" href="/assets/js/150.0ed478c9.js"><link rel="prefetch" href="/assets/js/151.6cb3ae26.js"><link rel="prefetch" href="/assets/js/152.fae31aaf.js"><link rel="prefetch" href="/assets/js/153.8c7249f6.js"><link rel="prefetch" href="/assets/js/154.2b1425ea.js"><link rel="prefetch" href="/assets/js/155.b666c81e.js"><link rel="prefetch" href="/assets/js/156.14054425.js"><link rel="prefetch" href="/assets/js/157.94f01cdf.js"><link rel="prefetch" href="/assets/js/158.34159395.js"><link rel="prefetch" href="/assets/js/159.be5f5616.js"><link rel="prefetch" href="/assets/js/16.032c7970.js"><link rel="prefetch" href="/assets/js/160.90206586.js"><link rel="prefetch" href="/assets/js/161.ae7f6138.js"><link rel="prefetch" href="/assets/js/162.784446ca.js"><link rel="prefetch" href="/assets/js/163.93b2bdd7.js"><link rel="prefetch" href="/assets/js/164.2a2f0567.js"><link rel="prefetch" href="/assets/js/165.f8f66ffc.js"><link rel="prefetch" href="/assets/js/166.93a56756.js"><link rel="prefetch" href="/assets/js/167.0c193749.js"><link rel="prefetch" href="/assets/js/168.bd66178d.js"><link rel="prefetch" href="/assets/js/169.88c7c1db.js"><link rel="prefetch" href="/assets/js/17.06e7d592.js"><link rel="prefetch" href="/assets/js/170.ad52704d.js"><link rel="prefetch" href="/assets/js/171.d55b6aef.js"><link rel="prefetch" href="/assets/js/172.e0e51f45.js"><link rel="prefetch" href="/assets/js/173.e6894bf3.js"><link rel="prefetch" href="/assets/js/174.7413f5e2.js"><link rel="prefetch" href="/assets/js/175.0d6cb1db.js"><link rel="prefetch" href="/assets/js/176.12ad8b52.js"><link rel="prefetch" href="/assets/js/177.0bbc352c.js"><link rel="prefetch" href="/assets/js/178.f6437da6.js"><link rel="prefetch" href="/assets/js/179.11bc24fe.js"><link rel="prefetch" href="/assets/js/18.a2ee5db0.js"><link rel="prefetch" href="/assets/js/180.f24fd9b3.js"><link rel="prefetch" href="/assets/js/181.ce672c80.js"><link rel="prefetch" href="/assets/js/182.86d25281.js"><link rel="prefetch" href="/assets/js/183.a270a01f.js"><link rel="prefetch" href="/assets/js/184.135efb04.js"><link rel="prefetch" href="/assets/js/185.2056e6e1.js"><link rel="prefetch" href="/assets/js/186.c76509df.js"><link rel="prefetch" href="/assets/js/187.c4b22d1d.js"><link rel="prefetch" href="/assets/js/188.0be735bd.js"><link rel="prefetch" href="/assets/js/189.6534dd5b.js"><link rel="prefetch" href="/assets/js/19.396544fc.js"><link rel="prefetch" href="/assets/js/190.36629ca5.js"><link rel="prefetch" href="/assets/js/191.2ec0d86d.js"><link rel="prefetch" href="/assets/js/192.e1ddf083.js"><link rel="prefetch" href="/assets/js/193.6798aedf.js"><link rel="prefetch" href="/assets/js/194.76e44b2d.js"><link rel="prefetch" href="/assets/js/195.cd1f3230.js"><link rel="prefetch" href="/assets/js/196.af199049.js"><link rel="prefetch" href="/assets/js/197.6ac2ca9b.js"><link rel="prefetch" href="/assets/js/198.1bc378fc.js"><link rel="prefetch" href="/assets/js/199.3fd61c19.js"><link rel="prefetch" href="/assets/js/20.ea5f1a61.js"><link rel="prefetch" href="/assets/js/200.7329f1a4.js"><link rel="prefetch" href="/assets/js/201.4efdb061.js"><link rel="prefetch" href="/assets/js/202.9adcdca1.js"><link rel="prefetch" href="/assets/js/203.dd63c0b4.js"><link rel="prefetch" href="/assets/js/204.c6532590.js"><link rel="prefetch" href="/assets/js/205.761855d0.js"><link rel="prefetch" href="/assets/js/206.510b2d22.js"><link rel="prefetch" href="/assets/js/207.f575eaf6.js"><link rel="prefetch" href="/assets/js/208.5311a6ff.js"><link rel="prefetch" href="/assets/js/209.4a67c8c2.js"><link rel="prefetch" href="/assets/js/21.e73e55da.js"><link rel="prefetch" href="/assets/js/210.8869b9eb.js"><link rel="prefetch" href="/assets/js/211.2dc7a654.js"><link rel="prefetch" href="/assets/js/212.798e9516.js"><link rel="prefetch" href="/assets/js/213.ee35e120.js"><link rel="prefetch" href="/assets/js/214.b675b6a5.js"><link rel="prefetch" href="/assets/js/215.fc29d44a.js"><link rel="prefetch" href="/assets/js/216.87ac41ac.js"><link rel="prefetch" href="/assets/js/217.8d9f4c4f.js"><link rel="prefetch" href="/assets/js/218.736fc946.js"><link rel="prefetch" href="/assets/js/219.c9e2bbea.js"><link rel="prefetch" href="/assets/js/22.b21ba624.js"><link rel="prefetch" href="/assets/js/220.80becf66.js"><link rel="prefetch" href="/assets/js/221.35b11464.js"><link rel="prefetch" href="/assets/js/222.12e2f07d.js"><link rel="prefetch" href="/assets/js/223.e5d9429d.js"><link rel="prefetch" href="/assets/js/224.7cb44aba.js"><link rel="prefetch" href="/assets/js/225.1ef70e2d.js"><link rel="prefetch" href="/assets/js/226.5449ecef.js"><link rel="prefetch" href="/assets/js/227.45dd9109.js"><link rel="prefetch" href="/assets/js/228.3d0ec5d5.js"><link rel="prefetch" href="/assets/js/229.143b385d.js"><link rel="prefetch" href="/assets/js/23.3b64013a.js"><link rel="prefetch" href="/assets/js/230.fa65e9ae.js"><link rel="prefetch" href="/assets/js/231.79bc6110.js"><link rel="prefetch" href="/assets/js/232.f529da16.js"><link rel="prefetch" href="/assets/js/233.d1fef86d.js"><link rel="prefetch" href="/assets/js/234.8bbe9c77.js"><link rel="prefetch" href="/assets/js/235.c3e1832a.js"><link rel="prefetch" href="/assets/js/236.0866e64f.js"><link rel="prefetch" href="/assets/js/24.b4e8c791.js"><link rel="prefetch" href="/assets/js/25.f98cd0df.js"><link rel="prefetch" href="/assets/js/26.c839b8bd.js"><link rel="prefetch" href="/assets/js/27.f5a21089.js"><link rel="prefetch" href="/assets/js/28.96b817c1.js"><link rel="prefetch" href="/assets/js/29.007358e5.js"><link rel="prefetch" href="/assets/js/3.0d8bc239.js"><link rel="prefetch" href="/assets/js/30.3b6f3735.js"><link rel="prefetch" href="/assets/js/31.0c9967b5.js"><link rel="prefetch" href="/assets/js/32.a38fdfc9.js"><link rel="prefetch" href="/assets/js/33.c7480448.js"><link rel="prefetch" href="/assets/js/35.cc06f6b0.js"><link rel="prefetch" href="/assets/js/36.89cf5c58.js"><link rel="prefetch" href="/assets/js/37.df43546e.js"><link rel="prefetch" href="/assets/js/38.1d7dc431.js"><link rel="prefetch" href="/assets/js/39.0ae8615b.js"><link rel="prefetch" href="/assets/js/4.e22cc580.js"><link rel="prefetch" href="/assets/js/40.d1667095.js"><link rel="prefetch" href="/assets/js/41.ec787a05.js"><link rel="prefetch" href="/assets/js/42.99b1520c.js"><link rel="prefetch" href="/assets/js/43.6e83a938.js"><link rel="prefetch" href="/assets/js/44.4106095f.js"><link rel="prefetch" href="/assets/js/45.9f196f89.js"><link rel="prefetch" href="/assets/js/46.a6c6647b.js"><link rel="prefetch" href="/assets/js/47.f1958d56.js"><link rel="prefetch" href="/assets/js/48.5babb483.js"><link rel="prefetch" href="/assets/js/49.bec86535.js"><link rel="prefetch" href="/assets/js/5.2675f9a4.js"><link rel="prefetch" href="/assets/js/50.f2b23a26.js"><link rel="prefetch" href="/assets/js/51.13d329a7.js"><link rel="prefetch" href="/assets/js/52.d0dffeef.js"><link rel="prefetch" href="/assets/js/53.943ddc95.js"><link rel="prefetch" href="/assets/js/54.4d556d1e.js"><link rel="prefetch" href="/assets/js/55.c4a2bbc5.js"><link rel="prefetch" href="/assets/js/56.5f5b8893.js"><link rel="prefetch" href="/assets/js/57.e413202d.js"><link rel="prefetch" href="/assets/js/58.b57b952a.js"><link rel="prefetch" href="/assets/js/59.9a523542.js"><link rel="prefetch" href="/assets/js/6.a16b8188.js"><link rel="prefetch" href="/assets/js/60.53bedd43.js"><link rel="prefetch" href="/assets/js/61.4c3ed496.js"><link rel="prefetch" href="/assets/js/62.e1ca0d12.js"><link rel="prefetch" href="/assets/js/63.7587c6d9.js"><link rel="prefetch" href="/assets/js/64.26a28eb5.js"><link rel="prefetch" href="/assets/js/65.c7576ee7.js"><link rel="prefetch" href="/assets/js/66.bac677be.js"><link rel="prefetch" href="/assets/js/67.9c98536b.js"><link rel="prefetch" href="/assets/js/68.d92a6309.js"><link rel="prefetch" href="/assets/js/69.7fb4cd10.js"><link rel="prefetch" href="/assets/js/7.18285f8e.js"><link rel="prefetch" href="/assets/js/70.44600868.js"><link rel="prefetch" href="/assets/js/71.399aa49c.js"><link rel="prefetch" href="/assets/js/72.f81507e5.js"><link rel="prefetch" href="/assets/js/73.6951158e.js"><link rel="prefetch" href="/assets/js/74.d5ea3a2b.js"><link rel="prefetch" href="/assets/js/75.fe3f0ff0.js"><link rel="prefetch" href="/assets/js/76.e2e107c4.js"><link rel="prefetch" href="/assets/js/77.32335c4a.js"><link rel="prefetch" href="/assets/js/78.8783904a.js"><link rel="prefetch" href="/assets/js/79.0407ef18.js"><link rel="prefetch" href="/assets/js/8.f1381a6f.js"><link rel="prefetch" href="/assets/js/80.01f5d4c0.js"><link rel="prefetch" href="/assets/js/81.f94404e0.js"><link rel="prefetch" href="/assets/js/82.0807feaf.js"><link rel="prefetch" href="/assets/js/83.606c83fb.js"><link rel="prefetch" href="/assets/js/84.a52322d3.js"><link rel="prefetch" href="/assets/js/85.3971f9ce.js"><link rel="prefetch" href="/assets/js/86.186aeabf.js"><link rel="prefetch" href="/assets/js/87.4d6cd5c0.js"><link rel="prefetch" href="/assets/js/88.23d95825.js"><link rel="prefetch" href="/assets/js/89.4e6c3487.js"><link rel="prefetch" href="/assets/js/9.9345580c.js"><link rel="prefetch" href="/assets/js/90.676a4f65.js"><link rel="prefetch" href="/assets/js/91.b19b4fc2.js"><link rel="prefetch" href="/assets/js/92.5db90124.js"><link rel="prefetch" href="/assets/js/93.211e3d13.js"><link rel="prefetch" href="/assets/js/94.5a7b76a1.js"><link rel="prefetch" href="/assets/js/95.9dde68b1.js"><link rel="prefetch" href="/assets/js/96.8d3b9f09.js"><link rel="prefetch" href="/assets/js/97.bd16642c.js"><link rel="prefetch" href="/assets/js/98.b40e7855.js"><link rel="prefetch" href="/assets/js/99.18eccd23.js">
    <link rel="stylesheet" href="/assets/css/0.styles.74392c83.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">📖Documents</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="⚡系列文章" class="dropdown-title"><span class="title">⚡系列文章</span> <span class="arrow down"></span></button> <button type="button" aria-label="⚡系列文章" class="mobile-dropdown-title"><span class="title">⚡系列文章</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/aspnetcore/abp-blog/" class="nav-link">
  🚀基于 abp vNext 和 .NET Core 开发博客项目
</a></li></ul></div></div><div class="nav-item"><a href="/python/" class="nav-link">
  🎈Python
</a></div><div class="nav-item"><a href="/stack/" class="nav-link router-link-active">
  🍺技术栈
</a></div><div class="nav-item"><a href="/summary/" class="nav-link">
  🎉总结
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="👍阿星Plus" class="dropdown-title"><span class="title">👍阿星Plus</span> <span class="arrow down"></span></button> <button type="button" aria-label="👍阿星Plus" class="mobile-dropdown-title"><span class="title">👍阿星Plus</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://meowv.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  meowv.com
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://docs.meowv.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  docs.meowv.com
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.cnblogs.com/meowv/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  阿星Plus - 博客园
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://juejin.im/user/3122268756261864" target="_blank" rel="noopener noreferrer" class="nav-link external">
  阿星Plus - 掘金
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://weibo.com/Tencentgou/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  阿星Plus的微博
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://api.meowv.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  api.meowv.com
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.nuget.org/profiles/qix/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  NuGet Gallery | qix
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <a href="https://github.com/meowv/docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    ⭐️GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="⚡系列文章" class="dropdown-title"><span class="title">⚡系列文章</span> <span class="arrow down"></span></button> <button type="button" aria-label="⚡系列文章" class="mobile-dropdown-title"><span class="title">⚡系列文章</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/aspnetcore/abp-blog/" class="nav-link">
  🚀基于 abp vNext 和 .NET Core 开发博客项目
</a></li></ul></div></div><div class="nav-item"><a href="/python/" class="nav-link">
  🎈Python
</a></div><div class="nav-item"><a href="/stack/" class="nav-link router-link-active">
  🍺技术栈
</a></div><div class="nav-item"><a href="/summary/" class="nav-link">
  🎉总结
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="👍阿星Plus" class="dropdown-title"><span class="title">👍阿星Plus</span> <span class="arrow down"></span></button> <button type="button" aria-label="👍阿星Plus" class="mobile-dropdown-title"><span class="title">👍阿星Plus</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://meowv.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  meowv.com
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://docs.meowv.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  docs.meowv.com
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.cnblogs.com/meowv/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  阿星Plus - 博客园
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://juejin.im/user/3122268756261864" target="_blank" rel="noopener noreferrer" class="nav-link external">
  阿星Plus - 掘金
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://weibo.com/Tencentgou/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  阿星Plus的微博
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://api.meowv.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  api.meowv.com
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.nuget.org/profiles/qix/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  NuGet Gallery | qix
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <a href="https://github.com/meowv/docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    ⭐️GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>.NET Core</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/stack/dotnetcore/abp-template.html" class="sidebar-link">基于 abp vNext 的快速开发模板</a></li><li><a href="/stack/dotnetcore/autoapi.html" class="sidebar-link">动态 Restful API 生成</a></li><li><a href="/stack/dotnetcore/import-and-export-excel.html" class="sidebar-link">.NET Core 中导入导出Excel</a></li><li><a href="/stack/dotnetcore/captcha.html" class="sidebar-link">.NET Core 中生成验证码</a></li><li><a href="/stack/dotnetcore/mailkit.html" class="sidebar-link">.NET Core 下收发邮件之 MailKit</a></li><li><a href="/stack/dotnetcore/qrcode.html" class="sidebar-link">.NET Core 生成二维码</a></li><li><a href="/stack/dotnetcore/swagger.html" class="sidebar-link">.NET Core API文档管理组件 Swagger</a></li><li><a href="/stack/dotnetcore/json-web-token.html" class="sidebar-link">.NET Core 集成JWT认证</a></li><li><a href="/stack/dotnetcore/spider.html" class="sidebar-link">.NET Core 下的爬虫利器</a></li><li><a href="/stack/dotnetcore/apollo-in-dotnet.html" class="sidebar-link">.NET Core 下使用 Apollo 配置中心</a></li><li><a href="/stack/dotnetcore/grpc-in-dotnet.html" class="sidebar-link">.NET Core 下使用 gRPC</a></li><li><a href="/stack/dotnetcore/elasticsearch-in-dotnet.html" class="sidebar-link">.NET Core 下使用 ElasticSearch</a></li><li><a href="/stack/dotnetcore/rabbitmq-in-dotnet.html" class="sidebar-link">.NET Core 下使用 RabbitMQ</a></li><li><a href="/stack/dotnetcore/kafka-in-dotnet.html" class="sidebar-link">.NET Core 下使用 Kafka</a></li><li><a href="/stack/dotnetcore/log4net-in-dotnet.html" class="sidebar-link">.NET Core 下使用 Log4Net 记录日志</a></li><li><a href="/stack/dotnetcore/nlog-in-dotnet.html" class="sidebar-link">.NET Core 下使用 NLog 记录日志</a></li><li><a href="/stack/dotnetcore/serilog-in-dotnet.html" class="sidebar-link">.NET Core 下使用 Serilog 记录日志</a></li><li><a href="/stack/dotnetcore/exceptionless-in-dotnet.html" class="sidebar-link">.NET Core 下使用 Exceptionless 记录日志</a></li><li><a href="/stack/dotnetcore/consul.html" class="sidebar-link">.NET Core 使用 Consul 服务注册发现</a></li><li><a href="/stack/dotnetcore/api-gateway.html" aria-current="page" class="active sidebar-link">.NET Core 下的 API 网关</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/stack/dotnetcore/api-gateway.html#网关介绍" class="sidebar-link">网关介绍</a></li><li class="sidebar-sub-header"><a href="/stack/dotnetcore/api-gateway.html#接入使用" class="sidebar-link">接入使用</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/stack/dotnetcore/api-gateway.html#接口示例" class="sidebar-link">接口示例</a></li><li class="sidebar-sub-header"><a href="/stack/dotnetcore/api-gateway.html#配置网关" class="sidebar-link">配置网关</a></li></ul></li></ul></li><li><a href="/stack/dotnetcore/mta-package.html" class="sidebar-link">使用MTA HTML5统计API来分析数据</a></li><li><a href="/stack/dotnetcore/operate-git-auto-publish-to-github.html" class="sidebar-link">.NET Core 下操作 Git，自动提交代码到 GitHub</a></li><li><a href="/stack/dotnetcore/epplus-wps-error.html" class="sidebar-link">EPPlus.Core 处理 Excel 报错之天坑 WPS</a></li><li><a href="/stack/dotnetcore/publish-to-centos.html" class="sidebar-link">基于.NET Core开发的个人博客 发布至CentOS小计</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Blazor</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Docker</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Kubernetes</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Storage</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Git</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Web</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Planning Analytics</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Other</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="net-core-下的-api-网关"><a href="#net-core-下的-api-网关" class="header-anchor">#</a> .NET Core 下的 API 网关</h1> <p><img src="/assets/img/api-gateway-01.06dd4e7b.png" alt=" "></p> <h2 id="网关介绍"><a href="#网关介绍" class="header-anchor">#</a> 网关介绍</h2> <p>网关其实就是将我们写好的API全部放在一个统一的地址暴露在公网，提供访问的一个入口。在 .NET Core下可以使用<code>Ocelot</code>来帮助我们很方便的接入API 网关。与之类似的库还有<a href="https://github.com/proxykit/ProxyKit" target="_blank" rel="noopener noreferrer"><code>ProxyKit</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，微软也发布了一个反向代理的库<a href="https://github.com/microsoft/reverse-proxy" target="_blank" rel="noopener noreferrer"><code>YARP</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <p>关于网关的介绍不多说了，网上文章也挺多的，这些都是不错的选择，听说后期<code>Ocelot</code>将会使用<code>YARP</code>来重写。本篇主要实践一下在.NET Core环境下使用<code>Ocelot</code>。</p> <ul><li>Ocelot官网：<a href="https://threemammals.com/ocelot" target="_blank" rel="noopener noreferrer">https://threemammals.com/ocelot<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>Ocelot文档：<a href="https://ocelot.readthedocs.io" target="_blank" rel="noopener noreferrer">https://ocelot.readthedocs.io<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>GitHub：<a href="https://github.com/ThreeMammals/Ocelot" target="_blank" rel="noopener noreferrer">https://github.com/ThreeMammals/Ocelot<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>Ocelot资源汇总：<a href="https://www.cnblogs.com/shanyou/p/10363360.html" target="_blank" rel="noopener noreferrer">https://www.cnblogs.com/shanyou/p/10363360.html<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h2 id="接入使用"><a href="#接入使用" class="header-anchor">#</a> 接入使用</h2> <h3 id="接口示例"><a href="#接口示例" class="header-anchor">#</a> 接口示例</h3> <p>先创建几个项目用于测试，创建两个默认的API项目，Api_A和Api_B，在创建一个网关项目Api_Gateway，网关项目可以选择空的模板。</p> <p>现在分别在Api_A和Api_B中写几个api，将默认的<code>WeatherForecastController</code>中返回模型<code>WeatherForecast</code>添加一个字段Source，用于区分是哪个API返回的数据。</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token keyword">using</span> <span class="token namespace">System</span><span class="token punctuation">;</span>

<span class="token keyword">namespace</span> <span class="token namespace">Api_A</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">WeatherForecast</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Source <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token string">&quot;Api_A&quot;</span><span class="token punctuation">;</span>

        <span class="token keyword">public</span> <span class="token return-type class-name">DateTime</span> Date <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> TemperatureC <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> TemperatureF <span class="token operator">=&gt;</span> <span class="token number">32</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">(</span>TemperatureC <span class="token operator">/</span> <span class="token number">0.5556</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Summary <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">using</span> <span class="token namespace">System</span><span class="token punctuation">;</span>

<span class="token keyword">namespace</span> <span class="token namespace">Api_B</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">WeatherForecast</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Source <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token string">&quot;Api_B&quot;</span><span class="token punctuation">;</span>

        <span class="token keyword">public</span> <span class="token return-type class-name">DateTime</span> Date <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> TemperatureC <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> TemperatureF <span class="token operator">=&gt;</span> <span class="token number">32</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">(</span>TemperatureC <span class="token operator">/</span> <span class="token number">0.5556</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Summary <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br></div></div><p>直接使用<code>WeatherForecastController</code>默认方法，在路由中添加api前缀。</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token keyword">using</span> <span class="token namespace">Microsoft<span class="token punctuation">.</span>AspNetCore<span class="token punctuation">.</span>Mvc</span><span class="token punctuation">;</span>
<span class="token keyword">using</span> <span class="token namespace">System</span><span class="token punctuation">;</span>
<span class="token keyword">using</span> <span class="token namespace">System<span class="token punctuation">.</span>Collections<span class="token punctuation">.</span>Generic</span><span class="token punctuation">;</span>
<span class="token keyword">using</span> <span class="token namespace">System<span class="token punctuation">.</span>Linq</span><span class="token punctuation">;</span>

<span class="token keyword">namespace</span> <span class="token namespace">Api_A<span class="token punctuation">.</span>Controllers</span>
<span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">ApiController</span></span><span class="token punctuation">]</span>
    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Route</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token string">&quot;api/[controller]&quot;</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">WeatherForecastController</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">ControllerBase</span></span>
    <span class="token punctuation">{</span>
        <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">readonly</span> <span class="token class-name"><span class="token keyword">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> Summaries <span class="token operator">=</span> <span class="token keyword">new</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
        <span class="token punctuation">{</span>
            <span class="token string">&quot;Freezing&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Bracing&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Chilly&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Cool&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Mild&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Warm&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Balmy&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Hot&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Sweltering&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Scorching&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>

        <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">HttpGet</span></span><span class="token punctuation">]</span>
        <span class="token keyword">public</span> <span class="token return-type class-name">IEnumerable<span class="token punctuation">&lt;</span>WeatherForecast<span class="token punctuation">&gt;</span></span> <span class="token function">Get</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token class-name"><span class="token keyword">var</span></span> rng <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> Enumerable<span class="token punctuation">.</span><span class="token function">Range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Select</span><span class="token punctuation">(</span>index <span class="token operator">=&gt;</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">WeatherForecast</span>
            <span class="token punctuation">{</span>
                Date <span class="token operator">=</span> DateTime<span class="token punctuation">.</span>Now<span class="token punctuation">.</span><span class="token function">AddDays</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">,</span>
                TemperatureC <span class="token operator">=</span> rng<span class="token punctuation">.</span><span class="token function">Next</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">55</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                Summary <span class="token operator">=</span> Summaries<span class="token punctuation">[</span>rng<span class="token punctuation">.</span><span class="token function">Next</span><span class="token punctuation">(</span>Summaries<span class="token punctuation">.</span>Length<span class="token punctuation">)</span><span class="token punctuation">]</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ToArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">using</span> <span class="token namespace">Microsoft<span class="token punctuation">.</span>AspNetCore<span class="token punctuation">.</span>Mvc</span><span class="token punctuation">;</span>
<span class="token keyword">using</span> <span class="token namespace">System</span><span class="token punctuation">;</span>
<span class="token keyword">using</span> <span class="token namespace">System<span class="token punctuation">.</span>Collections<span class="token punctuation">.</span>Generic</span><span class="token punctuation">;</span>
<span class="token keyword">using</span> <span class="token namespace">System<span class="token punctuation">.</span>Linq</span><span class="token punctuation">;</span>

<span class="token keyword">namespace</span> <span class="token namespace">Api_B<span class="token punctuation">.</span>Controllers</span>
<span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">ApiController</span></span><span class="token punctuation">]</span>
    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Route</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token string">&quot;api/[controller]&quot;</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">WeatherForecastController</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">ControllerBase</span></span>
    <span class="token punctuation">{</span>
        <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">readonly</span> <span class="token class-name"><span class="token keyword">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> Summaries <span class="token operator">=</span> <span class="token keyword">new</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
        <span class="token punctuation">{</span>
            <span class="token string">&quot;Freezing&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Bracing&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Chilly&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Cool&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Mild&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Warm&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Balmy&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Hot&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Sweltering&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Scorching&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>

        <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">HttpGet</span></span><span class="token punctuation">]</span>
        <span class="token keyword">public</span> <span class="token return-type class-name">IEnumerable<span class="token punctuation">&lt;</span>WeatherForecast<span class="token punctuation">&gt;</span></span> <span class="token function">Get</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token class-name"><span class="token keyword">var</span></span> rng <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> Enumerable<span class="token punctuation">.</span><span class="token function">Range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Select</span><span class="token punctuation">(</span>index <span class="token operator">=&gt;</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">WeatherForecast</span>
            <span class="token punctuation">{</span>
                Date <span class="token operator">=</span> DateTime<span class="token punctuation">.</span>Now<span class="token punctuation">.</span><span class="token function">AddDays</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">,</span>
                TemperatureC <span class="token operator">=</span> rng<span class="token punctuation">.</span><span class="token function">Next</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">55</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                Summary <span class="token operator">=</span> Summaries<span class="token punctuation">[</span>rng<span class="token punctuation">.</span><span class="token function">Next</span><span class="token punctuation">(</span>Summaries<span class="token punctuation">.</span>Length<span class="token punctuation">)</span><span class="token punctuation">]</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ToArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br></div></div><p>再分别在Api_A和Api_B中添加两个控制器：ApiAController、ApiBController，然后加上几个简单的restful api。</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token keyword">using</span> <span class="token namespace">Microsoft<span class="token punctuation">.</span>AspNetCore<span class="token punctuation">.</span>Mvc</span><span class="token punctuation">;</span>
<span class="token keyword">using</span> <span class="token namespace">System<span class="token punctuation">.</span>Collections<span class="token punctuation">.</span>Generic</span><span class="token punctuation">;</span>

<span class="token keyword">namespace</span> <span class="token namespace">Api_A<span class="token punctuation">.</span>Controllers</span>
<span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Route</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token string">&quot;api/[controller]&quot;</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">ApiController</span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ApiAController</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">ControllerBase</span></span>
    <span class="token punctuation">{</span>
        <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">HttpGet</span></span><span class="token punctuation">]</span>
        <span class="token keyword">public</span> <span class="token return-type class-name">IEnumerable<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">&gt;</span></span> <span class="token function">Get</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name"><span class="token keyword">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> <span class="token punctuation">{</span> <span class="token string">&quot;value1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;value2&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">HttpGet</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token string">&quot;{id}&quot;</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> <span class="token function">Get</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">int</span></span> id<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token interpolation-string"><span class="token string">$&quot;Get：</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">id</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">HttpPost</span></span><span class="token punctuation">]</span>
        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> <span class="token function">Post</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">FromForm</span></span><span class="token punctuation">]</span> <span class="token class-name"><span class="token keyword">string</span></span> <span class="token keyword">value</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token interpolation-string"><span class="token string">$&quot;Post:</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token keyword">value</span></span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">HttpPut</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token string">&quot;{id}&quot;</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> <span class="token function">Put</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">int</span></span> id<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">FromForm</span></span><span class="token punctuation">]</span> <span class="token class-name"><span class="token keyword">string</span></span> <span class="token keyword">value</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token interpolation-string"><span class="token string">$&quot;Put:</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">id</span><span class="token punctuation">}</span></span><span class="token string">:</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token keyword">value</span></span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">HttpDelete</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token string">&quot;{id}&quot;</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> <span class="token function">Delete</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">int</span></span> id<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token interpolation-string"><span class="token string">$&quot;Delete:</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">id</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br></div></div><div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token keyword">using</span> <span class="token namespace">Microsoft<span class="token punctuation">.</span>AspNetCore<span class="token punctuation">.</span>Mvc</span><span class="token punctuation">;</span>
<span class="token keyword">using</span> <span class="token namespace">System<span class="token punctuation">.</span>Collections<span class="token punctuation">.</span>Generic</span><span class="token punctuation">;</span>

<span class="token keyword">namespace</span> <span class="token namespace">Api_B<span class="token punctuation">.</span>Controllers</span>
<span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Route</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token string">&quot;api/[controller]&quot;</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">ApiController</span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ApiBController</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">ControllerBase</span></span>
    <span class="token punctuation">{</span>
        <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">HttpGet</span></span><span class="token punctuation">]</span>
        <span class="token keyword">public</span> <span class="token return-type class-name">IEnumerable<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">&gt;</span></span> <span class="token function">Get</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name"><span class="token keyword">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> <span class="token punctuation">{</span> <span class="token string">&quot;value1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;value2&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">HttpGet</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token string">&quot;{id}&quot;</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> <span class="token function">Get</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">int</span></span> id<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token interpolation-string"><span class="token string">$&quot;Get：</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">id</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">HttpPost</span></span><span class="token punctuation">]</span>
        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> <span class="token function">Post</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">FromForm</span></span><span class="token punctuation">]</span> <span class="token class-name"><span class="token keyword">string</span></span> <span class="token keyword">value</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token interpolation-string"><span class="token string">$&quot;Post:</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token keyword">value</span></span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">HttpPut</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token string">&quot;{id}&quot;</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> <span class="token function">Put</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">int</span></span> id<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">FromForm</span></span><span class="token punctuation">]</span> <span class="token class-name"><span class="token keyword">string</span></span> <span class="token keyword">value</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token interpolation-string"><span class="token string">$&quot;Put:</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">id</span><span class="token punctuation">}</span></span><span class="token string">:</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token keyword">value</span></span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">HttpDelete</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token string">&quot;{id}&quot;</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> <span class="token function">Delete</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">int</span></span> id<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token interpolation-string"><span class="token string">$&quot;Delete:</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">id</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br></div></div><p><img src="data:image/png;base64,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" alt=" "> <img src="data:image/png;base64,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" alt=" "></p> <p>方便查看接口，这里添加一下<code>swagger</code>组件，这样我们Api_A和Api_B项目分别就有了6个接口。</p> <p>接着打包docker镜像，放在docker中运行这两个api项目。这一步可以用任何你熟悉的方式，run起来即可。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>docker build -t api_a:dev -f ./Api_A/Dockerfile <span class="token builtin class-name">.</span>
docker build -t api_b:dev -f ./Api_B/Dockerfile <span class="token builtin class-name">.</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>build成功后，指定两个端口运行api项目。</p> <div class="language-powershell line-numbers-mode"><pre class="language-powershell"><code>docker run <span class="token operator">-</span>d <span class="token operator">-</span>p 5050:80 <span class="token operator">--</span>name api_a api_a:dev
docker run <span class="token operator">-</span>d <span class="token operator">-</span>p 5051:80 <span class="token operator">--</span>name api_b api_b:dev
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>Api_A指定了5050端口，通过 <a href="http://localhost:5050/swagger" target="_blank" rel="noopener noreferrer">http://localhost:5050/swagger<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>打开可以看到swagger文档界面，Api_B指定了5051端口，通过 <a href="http://localhost:5051/swagger" target="_blank" rel="noopener noreferrer">http://localhost:5051/swagger<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>打开可以看到swagger文档界面，这样就大功告成了，接下来才是重点将两个api项目配置到Api_Gateway网关项目中。</p> <h3 id="配置网关"><a href="#配置网关" class="header-anchor">#</a> 配置网关</h3> <p>在网关项目Api_Gateway中都添加<code>Ocelot</code>组件包。</p> <div class="language-powershell line-numbers-mode"><pre class="language-powershell"><code><span class="token function">Install-Package</span> Ocelot
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><code>Ocelot</code>中最关键的就是配置路由信息，新建一个<code>ocelot.json</code>配置文件，将我们的两个API接口匹配规则放进去。</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;Routes&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token comment">//ApiA</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;DownstreamPathTemplate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/api/WeatherForecast&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;DownstreamScheme&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;DownstreamHostAndPorts&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token property">&quot;Host&quot;</span><span class="token operator">:</span> <span class="token string">&quot;localhost&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;Port&quot;</span><span class="token operator">:</span> <span class="token number">5050</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token property">&quot;UpstreamPathTemplate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/ApiA/WeatherForecast&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;UpstreamHttpMethod&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token string">&quot;Get&quot;</span> <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;DownstreamPathTemplate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/api/ApiA&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;DownstreamScheme&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;DownstreamHostAndPorts&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token property">&quot;Host&quot;</span><span class="token operator">:</span> <span class="token string">&quot;localhost&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;Port&quot;</span><span class="token operator">:</span> <span class="token number">5050</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token property">&quot;UpstreamPathTemplate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/ApiA&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;UpstreamHttpMethod&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token string">&quot;Get&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;POST&quot;</span> <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;DownstreamPathTemplate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/api/ApiA/{id}&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;DownstreamScheme&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;DownstreamHostAndPorts&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token property">&quot;Host&quot;</span><span class="token operator">:</span> <span class="token string">&quot;localhost&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;Port&quot;</span><span class="token operator">:</span> <span class="token number">5050</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token property">&quot;UpstreamPathTemplate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/ApiA/{id}&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;UpstreamHttpMethod&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token string">&quot;Get&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Put&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Delete&quot;</span> <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">//ApiB</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;DownstreamPathTemplate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/api/WeatherForecast&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;DownstreamScheme&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;DownstreamHostAndPorts&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token property">&quot;Host&quot;</span><span class="token operator">:</span> <span class="token string">&quot;localhost&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;Port&quot;</span><span class="token operator">:</span> <span class="token number">5051</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token property">&quot;UpstreamPathTemplate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/ApiB/WeatherForecast&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;UpstreamHttpMethod&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token string">&quot;Get&quot;</span> <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;DownstreamPathTemplate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/api/ApiB&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;DownstreamScheme&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;DownstreamHostAndPorts&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token property">&quot;Host&quot;</span><span class="token operator">:</span> <span class="token string">&quot;localhost&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;Port&quot;</span><span class="token operator">:</span> <span class="token number">5051</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token property">&quot;UpstreamPathTemplate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/ApiB&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;UpstreamHttpMethod&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token string">&quot;Get&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;POST&quot;</span> <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;DownstreamPathTemplate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/api/ApiB/{id}&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;DownstreamScheme&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;DownstreamHostAndPorts&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token property">&quot;Host&quot;</span><span class="token operator">:</span> <span class="token string">&quot;localhost&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;Port&quot;</span><span class="token operator">:</span> <span class="token number">5051</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token property">&quot;UpstreamPathTemplate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/ApiB/{id}&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;UpstreamHttpMethod&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token string">&quot;Get&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Put&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Delete&quot;</span> <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;GlobalConfiguration&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;BaseUrl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://localhost:44335&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br></div></div><p>关于配置文件中的各项具体含义，可以参考官方文档中的介绍。主要就是将DownstreamPathTemplate模板内容转换为UpstreamPathTemplate模板内容进行接口的访问，同时可以指定HTTP请求的方式等等。GlobalConfiguration中的BaseUrl为我们暴漏出去的网关地址。</p> <p>设置好<code>ocelot.json</code>后，需要在代码中使用它，在<code>Program.cs</code>中添加配置文件。</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token keyword">using</span> <span class="token namespace">Microsoft<span class="token punctuation">.</span>AspNetCore<span class="token punctuation">.</span>Hosting</span><span class="token punctuation">;</span>
<span class="token keyword">using</span> <span class="token namespace">Microsoft<span class="token punctuation">.</span>Extensions<span class="token punctuation">.</span>Configuration</span><span class="token punctuation">;</span>
<span class="token keyword">using</span> <span class="token namespace">Microsoft<span class="token punctuation">.</span>Extensions<span class="token punctuation">.</span>Hosting</span><span class="token punctuation">;</span>

<span class="token keyword">namespace</span> <span class="token namespace">Api_Gateway</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Program</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> args<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token function">CreateHostBuilder</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token return-type class-name">IHostBuilder</span> <span class="token function">CreateHostBuilder</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> args<span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
            Host<span class="token punctuation">.</span><span class="token function">CreateDefaultBuilder</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">ConfigureAppConfiguration</span><span class="token punctuation">(</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> config<span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
                <span class="token punctuation">{</span>
                    config<span class="token punctuation">.</span><span class="token function">AddJsonFile</span><span class="token punctuation">(</span><span class="token string">&quot;ocelot.json&quot;</span><span class="token punctuation">,</span> <span class="token named-parameter punctuation">optional</span><span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token named-parameter punctuation">reloadOnChange</span><span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">ConfigureWebHostDefaults</span><span class="token punctuation">(</span>webBuilder <span class="token operator">=&gt;</span>
                <span class="token punctuation">{</span>
                    webBuilder<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">UseStartup</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Startup<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><p>在<code>Startup.cs</code>中使用<code>Ocelot</code>。</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token keyword">using</span> <span class="token namespace">Microsoft<span class="token punctuation">.</span>AspNetCore<span class="token punctuation">.</span>Builder</span><span class="token punctuation">;</span>
<span class="token keyword">using</span> <span class="token namespace">Microsoft<span class="token punctuation">.</span>AspNetCore<span class="token punctuation">.</span>Hosting</span><span class="token punctuation">;</span>
<span class="token keyword">using</span> <span class="token namespace">Microsoft<span class="token punctuation">.</span>AspNetCore<span class="token punctuation">.</span>Http</span><span class="token punctuation">;</span>
<span class="token keyword">using</span> <span class="token namespace">Microsoft<span class="token punctuation">.</span>Extensions<span class="token punctuation">.</span>DependencyInjection</span><span class="token punctuation">;</span>
<span class="token keyword">using</span> <span class="token namespace">Microsoft<span class="token punctuation">.</span>Extensions<span class="token punctuation">.</span>Hosting</span><span class="token punctuation">;</span>
<span class="token keyword">using</span> <span class="token namespace">Ocelot<span class="token punctuation">.</span>DependencyInjection</span><span class="token punctuation">;</span>
<span class="token keyword">using</span> <span class="token namespace">Ocelot<span class="token punctuation">.</span>Middleware</span><span class="token punctuation">;</span>

<span class="token keyword">namespace</span> <span class="token namespace">Api_Gateway</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Startup</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">ConfigureServices</span><span class="token punctuation">(</span><span class="token class-name">IServiceCollection</span> services<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            services<span class="token punctuation">.</span><span class="token function">AddOcelot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Configure</span><span class="token punctuation">(</span><span class="token class-name">IApplicationBuilder</span> app<span class="token punctuation">,</span> <span class="token class-name">IWebHostEnvironment</span> env<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>env<span class="token punctuation">.</span><span class="token function">IsDevelopment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                app<span class="token punctuation">.</span><span class="token function">UseDeveloperExceptionPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            app<span class="token punctuation">.</span><span class="token function">UseRouting</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            app<span class="token punctuation">.</span><span class="token function">UseEndpoints</span><span class="token punctuation">(</span>endpoints <span class="token operator">=&gt;</span>
            <span class="token punctuation">{</span>
                endpoints<span class="token punctuation">.</span><span class="token function">MapGet</span><span class="token punctuation">(</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">,</span> <span class="token keyword">async</span> context <span class="token operator">=&gt;</span>
                <span class="token punctuation">{</span>
                    <span class="token keyword">await</span> context<span class="token punctuation">.</span>Response<span class="token punctuation">.</span><span class="token function">WriteAsync</span><span class="token punctuation">(</span><span class="token string">&quot;Hello World!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            app<span class="token punctuation">.</span><span class="token function">UseOcelot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Wait</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br></div></div><p>完成以上操作后，我们试着去调用接口看看能否正确获取预期数据。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">curl</span> -X GET <span class="token string">&quot;https://localhost:44335/ApiA&quot;</span>
<span class="token function">curl</span> -X GET <span class="token string">&quot;https://localhost:44335/ApiB&quot;</span>

<span class="token function">curl</span> -X POST <span class="token string">&quot;https://localhost:44335/ApiA&quot;</span> -H <span class="token string">&quot;Content-Type: multipart/form-data&quot;</span> -F <span class="token string">&quot;value=ApiA&quot;</span>
<span class="token function">curl</span> -X POST <span class="token string">&quot;https://localhost:44335/ApiB&quot;</span> -H <span class="token string">&quot;Content-Type: multipart/form-data&quot;</span> -F <span class="token string">&quot;value=ApiB&quot;</span>

<span class="token function">curl</span> -X GET <span class="token string">&quot;https://localhost:44335/ApiA/12345&quot;</span>
<span class="token function">curl</span> -X GET <span class="token string">&quot;https://localhost:44335/ApiB/12345&quot;</span>

<span class="token function">curl</span> -X PUT <span class="token string">&quot;https://localhost:44335/ApiA/12345&quot;</span> -H <span class="token string">&quot;Content-Type: multipart/form-data&quot;</span> -F <span class="token string">&quot;value=ApiA&quot;</span>
<span class="token function">curl</span> -X PUT <span class="token string">&quot;https://localhost:44335/ApiB/12345&quot;</span> -H <span class="token string">&quot;Content-Type: multipart/form-data&quot;</span> -F <span class="token string">&quot;value=ApiB&quot;</span>

<span class="token function">curl</span> -X DELETE <span class="token string">&quot;https://localhost:44335/ApiA/12345&quot;</span>
<span class="token function">curl</span> -X DELETE <span class="token string">&quot;https://localhost:44335/ApiB/12345&quot;</span>

<span class="token function">curl</span> -X GET <span class="token string">&quot;https://localhost:44335/ApiA/WeatherForecast&quot;</span>
<span class="token function">curl</span> -X GET <span class="token string">&quot;https://localhost:44335/ApiB/WeatherForecast&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p><img src="/assets/img/api-gateway-04.b1f12362.png" alt=" "></p> <p>可以看到，两个项目中的接口全部可以通过网关项目暴露的地址进行中转，是不是很方便？</p> <p>本篇只是简单的应用，对于<code>Ocelot</code>的功能远不止于此，它非常强大，还可以实现请求聚合、服务发现、认证、鉴权、限流熔断、并内置了负载均衡器，而且这些功能都是只需要简单的配置即可完成。就不一一描述了，如有实际开发需求和问题，可以查看官方文档和示例。</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/meowv/docs/edit/master//stack/dotnetcore/api-gateway.md" target="_blank" rel="noopener noreferrer">在 GitHub 上编辑此页</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">9 months ago</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/stack/dotnetcore/consul.html" class="prev">
        .NET Core 使用 Consul 服务注册发现
      </a></span> <span class="next"><a href="/stack/dotnetcore/mta-package.html">
        使用MTA HTML5统计API来分析数据
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><canvas id="vuepress-canvas-cursor"></canvas><!----><!----></div></div>
    <script src="/assets/js/app.ed0b211b.js" defer></script><script src="/assets/js/2.f12253fb.js" defer></script><script src="/assets/js/34.be4ff9ac.js" defer></script>
  </body>
</html>
