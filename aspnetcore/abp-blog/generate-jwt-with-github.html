<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Êé•ÂÖ•GitHubÔºåÁî®JWT‰øùÊä§‰Ω†ÁöÑAPI | üìñDocuments</title>
    <meta name="generator" content="VuePress 1.8.2">
    <script>var _mtac = {"senseQuery":1};(function() { var mta = document.createElement("script");mta.src = "//pingjs.qq.com/h5/stats.js?v2.0.4";mta.setAttribute("name", "MTAH5");mta.setAttribute("sid", "500727760");mta.setAttribute("cid", "500727761");var s = document.getElementsByTagName("script")[0];s.parentNode.insertBefore(mta, s); })();</script>
    <script src="/live2d/L2Dwidget.min.js"></script>
    <script>
        const models = [
            '/live2d/live2d-widget-model-epsilon2_1/assets/Epsilon2.1.model.json',
            '/live2d/live2d-widget-model-haru/01/assets/haru01.model.json',
            '/live2d/live2d-widget-model-haru/02/assets/haru02.model.json',
            '/live2d/live2d-widget-model-haruto/assets/haruto.model.json',
            '/live2d/live2d-widget-model-koharu/assets/koharu.model.json',
            '/live2d/live2d-widget-model-hijiki/assets/hijiki.model.json',
            '/live2d/live2d-widget-model-tororo/assets/tororo.model.json',
            '/live2d/live2d-widget-model-izumi/assets/izumi.model.json',
            '/live2d/live2d-widget-model-miku/assets/miku.model.json',
            '/live2d/live2d-widget-model-shizuku/assets/shizuku.model.json',
            '/live2d/live2d-widget-model-wanko/assets/wanko.model.json',
            '/live2d/live2d-widget-model-z16/assets/z16.model.json'
        ];
        L2Dwidget.init({
            "model": {
                jsonPath: models[parseInt(Math.random() * (models.length))]
            },
            "display": {
                "position": "left",
                "width": 150,
                "height": 210,
                "hOffset": 5,
                "vOffset": 5,
                "superSample": 1,
            },
            "mobile": {
                "scale": 1,
                "show": true,
                "motion": true,
            },
            "react": {
                "opacityDefault": .5,
                "opacityOnHover": .2
            }
        });
    </script>
    <meta name="description" content="This is a personal document library for development work">
    
    <link rel="preload" href="/assets/css/0.styles.74392c83.css" as="style"><link rel="preload" href="/assets/js/app.81a593d8.js" as="script"><link rel="preload" href="/assets/js/2.57e15c9d.js" as="script"><link rel="preload" href="/assets/js/7.049bd8e9.js" as="script"><link rel="prefetch" href="/assets/js/10.60914aca.js"><link rel="prefetch" href="/assets/js/100.48705dc7.js"><link rel="prefetch" href="/assets/js/101.4a905aa1.js"><link rel="prefetch" href="/assets/js/102.b83a4906.js"><link rel="prefetch" href="/assets/js/103.b10170a1.js"><link rel="prefetch" href="/assets/js/104.317d9362.js"><link rel="prefetch" href="/assets/js/105.ae9a03f2.js"><link rel="prefetch" href="/assets/js/106.61c1b2fb.js"><link rel="prefetch" href="/assets/js/107.33d2c8aa.js"><link rel="prefetch" href="/assets/js/108.7bfdba54.js"><link rel="prefetch" href="/assets/js/109.cb90b17a.js"><link rel="prefetch" href="/assets/js/11.8089857b.js"><link rel="prefetch" href="/assets/js/110.f9d607f9.js"><link rel="prefetch" href="/assets/js/111.a2ec4ef9.js"><link rel="prefetch" href="/assets/js/112.b2e940dd.js"><link rel="prefetch" href="/assets/js/113.05e1c34e.js"><link rel="prefetch" href="/assets/js/114.749d7bc2.js"><link rel="prefetch" href="/assets/js/115.36dd3d79.js"><link rel="prefetch" href="/assets/js/116.d0e53c10.js"><link rel="prefetch" href="/assets/js/117.dd6321be.js"><link rel="prefetch" href="/assets/js/118.e863e598.js"><link rel="prefetch" href="/assets/js/119.ca8be4ad.js"><link rel="prefetch" href="/assets/js/12.9d574d33.js"><link rel="prefetch" href="/assets/js/120.2e10dd3f.js"><link rel="prefetch" href="/assets/js/121.aca74cc6.js"><link rel="prefetch" href="/assets/js/122.f16fe333.js"><link rel="prefetch" href="/assets/js/123.3d54ec68.js"><link rel="prefetch" href="/assets/js/124.425c6f02.js"><link rel="prefetch" href="/assets/js/125.7a576eac.js"><link rel="prefetch" href="/assets/js/126.b39e77ce.js"><link rel="prefetch" href="/assets/js/127.e91da4ad.js"><link rel="prefetch" href="/assets/js/128.93645865.js"><link rel="prefetch" href="/assets/js/129.c73a4cde.js"><link rel="prefetch" href="/assets/js/13.7ebd0aa9.js"><link rel="prefetch" href="/assets/js/130.3f66c874.js"><link rel="prefetch" href="/assets/js/131.2335c3fa.js"><link rel="prefetch" href="/assets/js/132.ecd25b76.js"><link rel="prefetch" href="/assets/js/133.79bd10dd.js"><link rel="prefetch" href="/assets/js/134.820dd081.js"><link rel="prefetch" href="/assets/js/135.f1a70194.js"><link rel="prefetch" href="/assets/js/136.77b4dafc.js"><link rel="prefetch" href="/assets/js/137.aae0e9c7.js"><link rel="prefetch" href="/assets/js/138.c4dee6a4.js"><link rel="prefetch" href="/assets/js/139.f4269749.js"><link rel="prefetch" href="/assets/js/14.87ed5500.js"><link rel="prefetch" href="/assets/js/140.d2ace111.js"><link rel="prefetch" href="/assets/js/141.acca808f.js"><link rel="prefetch" href="/assets/js/142.84579ed2.js"><link rel="prefetch" href="/assets/js/143.e2caf84e.js"><link rel="prefetch" href="/assets/js/144.64b7aaa5.js"><link rel="prefetch" href="/assets/js/145.e56d733c.js"><link rel="prefetch" href="/assets/js/146.c194a2e2.js"><link rel="prefetch" href="/assets/js/147.f37d3946.js"><link rel="prefetch" href="/assets/js/148.89948e55.js"><link rel="prefetch" href="/assets/js/149.ae4609d5.js"><link rel="prefetch" href="/assets/js/15.4e974526.js"><link rel="prefetch" href="/assets/js/150.4a86b01c.js"><link rel="prefetch" href="/assets/js/151.431f84b4.js"><link rel="prefetch" href="/assets/js/152.dd3e0e75.js"><link rel="prefetch" href="/assets/js/153.ffeca45d.js"><link rel="prefetch" href="/assets/js/154.523da0f9.js"><link rel="prefetch" href="/assets/js/155.5e41828e.js"><link rel="prefetch" href="/assets/js/156.502c4393.js"><link rel="prefetch" href="/assets/js/157.b5d080b2.js"><link rel="prefetch" href="/assets/js/158.16013432.js"><link rel="prefetch" href="/assets/js/159.a783b226.js"><link rel="prefetch" href="/assets/js/16.1176c4d0.js"><link rel="prefetch" href="/assets/js/160.3b183953.js"><link rel="prefetch" href="/assets/js/161.c14b92fe.js"><link rel="prefetch" href="/assets/js/162.8af34750.js"><link rel="prefetch" href="/assets/js/163.b83b6b65.js"><link rel="prefetch" href="/assets/js/164.91c30adb.js"><link rel="prefetch" href="/assets/js/165.b4da341e.js"><link rel="prefetch" href="/assets/js/166.4013fc06.js"><link rel="prefetch" href="/assets/js/167.7b3f24f1.js"><link rel="prefetch" href="/assets/js/168.902fef4a.js"><link rel="prefetch" href="/assets/js/169.6cf2b7da.js"><link rel="prefetch" href="/assets/js/17.1e7b576f.js"><link rel="prefetch" href="/assets/js/170.c504e8ce.js"><link rel="prefetch" href="/assets/js/171.7611b4aa.js"><link rel="prefetch" href="/assets/js/172.71a89809.js"><link rel="prefetch" href="/assets/js/173.ac12771d.js"><link rel="prefetch" href="/assets/js/174.d301c7de.js"><link rel="prefetch" href="/assets/js/175.870237f9.js"><link rel="prefetch" href="/assets/js/176.4ab17036.js"><link rel="prefetch" href="/assets/js/177.55f544b7.js"><link rel="prefetch" href="/assets/js/178.6eeeda3d.js"><link rel="prefetch" href="/assets/js/179.70a9ecdd.js"><link rel="prefetch" href="/assets/js/18.e5872078.js"><link rel="prefetch" href="/assets/js/180.6dda1fb7.js"><link rel="prefetch" href="/assets/js/181.0d4876c8.js"><link rel="prefetch" href="/assets/js/182.a85c3b42.js"><link rel="prefetch" href="/assets/js/183.4785cc51.js"><link rel="prefetch" href="/assets/js/184.8912aa29.js"><link rel="prefetch" href="/assets/js/185.1933747d.js"><link rel="prefetch" href="/assets/js/186.f1f13a2b.js"><link rel="prefetch" href="/assets/js/187.a07d4775.js"><link rel="prefetch" href="/assets/js/188.564dc7ef.js"><link rel="prefetch" href="/assets/js/189.2f5cd9c0.js"><link rel="prefetch" href="/assets/js/19.011f98a4.js"><link rel="prefetch" href="/assets/js/190.d1340283.js"><link rel="prefetch" href="/assets/js/191.781c97c3.js"><link rel="prefetch" href="/assets/js/192.f6cdf96f.js"><link rel="prefetch" href="/assets/js/193.1e0c4cba.js"><link rel="prefetch" href="/assets/js/194.96962df3.js"><link rel="prefetch" href="/assets/js/195.b05c6e22.js"><link rel="prefetch" href="/assets/js/196.53218ef0.js"><link rel="prefetch" href="/assets/js/197.71b96270.js"><link rel="prefetch" href="/assets/js/198.6d2c9152.js"><link rel="prefetch" href="/assets/js/199.d40a8f11.js"><link rel="prefetch" href="/assets/js/20.027e22b2.js"><link rel="prefetch" href="/assets/js/200.fd99c922.js"><link rel="prefetch" href="/assets/js/201.29dfc677.js"><link rel="prefetch" href="/assets/js/202.a18f43fd.js"><link rel="prefetch" href="/assets/js/203.037b651a.js"><link rel="prefetch" href="/assets/js/204.809fe7ba.js"><link rel="prefetch" href="/assets/js/205.6a8496e1.js"><link rel="prefetch" href="/assets/js/206.f2be6a88.js"><link rel="prefetch" href="/assets/js/207.57d0842d.js"><link rel="prefetch" href="/assets/js/208.6baf92ff.js"><link rel="prefetch" href="/assets/js/209.cb66d8dd.js"><link rel="prefetch" href="/assets/js/21.ea040dd9.js"><link rel="prefetch" href="/assets/js/210.2ab51694.js"><link rel="prefetch" href="/assets/js/211.1d424e8a.js"><link rel="prefetch" href="/assets/js/212.54a76f1f.js"><link rel="prefetch" href="/assets/js/213.0754e801.js"><link rel="prefetch" href="/assets/js/214.5b92ce7c.js"><link rel="prefetch" href="/assets/js/215.16e6635d.js"><link rel="prefetch" href="/assets/js/216.bd26fb85.js"><link rel="prefetch" href="/assets/js/217.ff398534.js"><link rel="prefetch" href="/assets/js/218.03d22038.js"><link rel="prefetch" href="/assets/js/219.7d85edec.js"><link rel="prefetch" href="/assets/js/22.a8070d69.js"><link rel="prefetch" href="/assets/js/220.e56ec835.js"><link rel="prefetch" href="/assets/js/221.cd2f107e.js"><link rel="prefetch" href="/assets/js/222.07f90195.js"><link rel="prefetch" href="/assets/js/223.3fa17e3a.js"><link rel="prefetch" href="/assets/js/224.689a4a3b.js"><link rel="prefetch" href="/assets/js/225.c713d3f0.js"><link rel="prefetch" href="/assets/js/226.47479c2a.js"><link rel="prefetch" href="/assets/js/227.d99532b3.js"><link rel="prefetch" href="/assets/js/228.29c0a4ca.js"><link rel="prefetch" href="/assets/js/229.a0b2c980.js"><link rel="prefetch" href="/assets/js/23.c6ff8631.js"><link rel="prefetch" href="/assets/js/230.ff581220.js"><link rel="prefetch" href="/assets/js/231.e3d10a79.js"><link rel="prefetch" href="/assets/js/232.931fd852.js"><link rel="prefetch" href="/assets/js/233.240a095e.js"><link rel="prefetch" href="/assets/js/234.83bc372e.js"><link rel="prefetch" href="/assets/js/235.0a212b1d.js"><link rel="prefetch" href="/assets/js/236.23dc9783.js"><link rel="prefetch" href="/assets/js/237.a1aa4a19.js"><link rel="prefetch" href="/assets/js/238.8b39c3ae.js"><link rel="prefetch" href="/assets/js/239.8209d20c.js"><link rel="prefetch" href="/assets/js/24.7b7897c7.js"><link rel="prefetch" href="/assets/js/240.1aa84d11.js"><link rel="prefetch" href="/assets/js/241.1aba9039.js"><link rel="prefetch" href="/assets/js/242.935859ce.js"><link rel="prefetch" href="/assets/js/243.614108f5.js"><link rel="prefetch" href="/assets/js/244.9f7fcef5.js"><link rel="prefetch" href="/assets/js/245.89ccce31.js"><link rel="prefetch" href="/assets/js/246.6e8a257c.js"><link rel="prefetch" href="/assets/js/247.5c9d34c6.js"><link rel="prefetch" href="/assets/js/248.29ab1208.js"><link rel="prefetch" href="/assets/js/249.079fa80f.js"><link rel="prefetch" href="/assets/js/25.caefc069.js"><link rel="prefetch" href="/assets/js/26.08e89ccd.js"><link rel="prefetch" href="/assets/js/27.e8ae6681.js"><link rel="prefetch" href="/assets/js/28.4d43abd2.js"><link rel="prefetch" href="/assets/js/29.604a3c5b.js"><link rel="prefetch" href="/assets/js/3.b16981c9.js"><link rel="prefetch" href="/assets/js/30.dd395dae.js"><link rel="prefetch" href="/assets/js/31.425a8f38.js"><link rel="prefetch" href="/assets/js/32.4b6708b6.js"><link rel="prefetch" href="/assets/js/33.b8f0b737.js"><link rel="prefetch" href="/assets/js/34.40689bc5.js"><link rel="prefetch" href="/assets/js/35.78fa4aca.js"><link rel="prefetch" href="/assets/js/36.4ff0a40e.js"><link rel="prefetch" href="/assets/js/37.becd489b.js"><link rel="prefetch" href="/assets/js/38.d3d887b1.js"><link rel="prefetch" href="/assets/js/39.74aef7b1.js"><link rel="prefetch" href="/assets/js/4.3f83ef04.js"><link rel="prefetch" href="/assets/js/40.c93afdb0.js"><link rel="prefetch" href="/assets/js/41.f31f2e97.js"><link rel="prefetch" href="/assets/js/42.c486fb57.js"><link rel="prefetch" href="/assets/js/43.44a0db8a.js"><link rel="prefetch" href="/assets/js/44.2570da95.js"><link rel="prefetch" href="/assets/js/45.3c20c231.js"><link rel="prefetch" href="/assets/js/46.9ab9a77d.js"><link rel="prefetch" href="/assets/js/47.9c472022.js"><link rel="prefetch" href="/assets/js/48.bdba5790.js"><link rel="prefetch" href="/assets/js/49.e733c11f.js"><link rel="prefetch" href="/assets/js/5.f946ffb4.js"><link rel="prefetch" href="/assets/js/50.343909c8.js"><link rel="prefetch" href="/assets/js/51.8f2a0096.js"><link rel="prefetch" href="/assets/js/52.526a0fe4.js"><link rel="prefetch" href="/assets/js/53.63837211.js"><link rel="prefetch" href="/assets/js/54.e7b53317.js"><link rel="prefetch" href="/assets/js/55.7d4f5f44.js"><link rel="prefetch" href="/assets/js/56.2f6bf9d5.js"><link rel="prefetch" href="/assets/js/57.b791bb7a.js"><link rel="prefetch" href="/assets/js/58.f6cb60d8.js"><link rel="prefetch" href="/assets/js/59.e92f68d7.js"><link rel="prefetch" href="/assets/js/6.f4fc8ca2.js"><link rel="prefetch" href="/assets/js/60.7c9b11c0.js"><link rel="prefetch" href="/assets/js/61.e0024bf6.js"><link rel="prefetch" href="/assets/js/62.df49ecf2.js"><link rel="prefetch" href="/assets/js/63.11013b3b.js"><link rel="prefetch" href="/assets/js/64.f69de4a2.js"><link rel="prefetch" href="/assets/js/65.b8534516.js"><link rel="prefetch" href="/assets/js/66.a718d5ad.js"><link rel="prefetch" href="/assets/js/67.8d6bd062.js"><link rel="prefetch" href="/assets/js/68.a9190b5a.js"><link rel="prefetch" href="/assets/js/69.5ef65cdf.js"><link rel="prefetch" href="/assets/js/70.f760a2d0.js"><link rel="prefetch" href="/assets/js/71.61c44459.js"><link rel="prefetch" href="/assets/js/72.e1daa328.js"><link rel="prefetch" href="/assets/js/73.4ba56691.js"><link rel="prefetch" href="/assets/js/74.0aa0e656.js"><link rel="prefetch" href="/assets/js/75.a525819d.js"><link rel="prefetch" href="/assets/js/76.0acc57db.js"><link rel="prefetch" href="/assets/js/77.64627baf.js"><link rel="prefetch" href="/assets/js/78.8ca3ad1e.js"><link rel="prefetch" href="/assets/js/79.17248e93.js"><link rel="prefetch" href="/assets/js/8.62a50e11.js"><link rel="prefetch" href="/assets/js/80.d350da31.js"><link rel="prefetch" href="/assets/js/81.32308674.js"><link rel="prefetch" href="/assets/js/82.dc8eaa9d.js"><link rel="prefetch" href="/assets/js/83.46a77d21.js"><link rel="prefetch" href="/assets/js/84.4b10a68c.js"><link rel="prefetch" href="/assets/js/85.0c3a45cc.js"><link rel="prefetch" href="/assets/js/86.46d4116a.js"><link rel="prefetch" href="/assets/js/87.3c0c7282.js"><link rel="prefetch" href="/assets/js/88.282f84c7.js"><link rel="prefetch" href="/assets/js/89.e2374513.js"><link rel="prefetch" href="/assets/js/9.5bbbfc3f.js"><link rel="prefetch" href="/assets/js/90.3180b151.js"><link rel="prefetch" href="/assets/js/91.786c2880.js"><link rel="prefetch" href="/assets/js/92.7a1ea65d.js"><link rel="prefetch" href="/assets/js/93.3def54ed.js"><link rel="prefetch" href="/assets/js/94.24ab8473.js"><link rel="prefetch" href="/assets/js/95.8b1674c1.js"><link rel="prefetch" href="/assets/js/96.3dbde231.js"><link rel="prefetch" href="/assets/js/97.3973319e.js"><link rel="prefetch" href="/assets/js/98.cd00e2f4.js"><link rel="prefetch" href="/assets/js/99.ddf043c0.js">
    <link rel="stylesheet" href="/assets/css/0.styles.74392c83.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">üìñDocuments</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="‚ö°Á≥ªÂàóÊñáÁ´†" class="dropdown-title"><span class="title">‚ö°Á≥ªÂàóÊñáÁ´†</span> <span class="arrow down"></span></button> <button type="button" aria-label="‚ö°Á≥ªÂàóÊñáÁ´†" class="mobile-dropdown-title"><span class="title">‚ö°Á≥ªÂàóÊñáÁ´†</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/aspnetcore/abp-blog/" class="nav-link router-link-active">
  üöÄÂü∫‰∫é abp vNext Âíå .NET Core ÂºÄÂèëÂçöÂÆ¢È°πÁõÆ
</a></li></ul></div></div><div class="nav-item"><a href="/stack/" class="nav-link">
  üç∫ÊäÄÊúØÊ†à
</a></div><div class="nav-item"><a href="/summary/" class="nav-link">
  üéâÊÄªÁªì
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="üëçÈòøÊòüPlus" class="dropdown-title"><span class="title">üëçÈòøÊòüPlus</span> <span class="arrow down"></span></button> <button type="button" aria-label="üëçÈòøÊòüPlus" class="mobile-dropdown-title"><span class="title">üëçÈòøÊòüPlus</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://meowv.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  meowv.com
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.cnblogs.com/meowv/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ÈòøÊòüPlus - ÂçöÂÆ¢Âõ≠
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://juejin.im/user/3122268756261864" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ÈòøÊòüPlus - ÊéòÈáë
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://weibo.com/Tencentgou/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ÈòøÊòüPlusÁöÑÂæÆÂçö
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <a href="https://github.com/meowv/docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    ‚≠êÔ∏èGitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="‚ö°Á≥ªÂàóÊñáÁ´†" class="dropdown-title"><span class="title">‚ö°Á≥ªÂàóÊñáÁ´†</span> <span class="arrow down"></span></button> <button type="button" aria-label="‚ö°Á≥ªÂàóÊñáÁ´†" class="mobile-dropdown-title"><span class="title">‚ö°Á≥ªÂàóÊñáÁ´†</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/aspnetcore/abp-blog/" class="nav-link router-link-active">
  üöÄÂü∫‰∫é abp vNext Âíå .NET Core ÂºÄÂèëÂçöÂÆ¢È°πÁõÆ
</a></li></ul></div></div><div class="nav-item"><a href="/stack/" class="nav-link">
  üç∫ÊäÄÊúØÊ†à
</a></div><div class="nav-item"><a href="/summary/" class="nav-link">
  üéâÊÄªÁªì
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="üëçÈòøÊòüPlus" class="dropdown-title"><span class="title">üëçÈòøÊòüPlus</span> <span class="arrow down"></span></button> <button type="button" aria-label="üëçÈòøÊòüPlus" class="mobile-dropdown-title"><span class="title">üëçÈòøÊòüPlus</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://meowv.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  meowv.com
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.cnblogs.com/meowv/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ÈòøÊòüPlus - ÂçöÂÆ¢Âõ≠
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://juejin.im/user/3122268756261864" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ÈòøÊòüPlus - ÊéòÈáë
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://weibo.com/Tencentgou/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ÈòøÊòüPlusÁöÑÂæÆÂçö
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <a href="https://github.com/meowv/docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    ‚≠êÔ∏èGitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/aspnetcore/abp-blog/abp-cli.html" class="sidebar-link">‰ΩøÁî® abp cli Êê≠Âª∫È°πÁõÆ</a></li><li><a href="/aspnetcore/abp-blog/slim-and-run.html" class="sidebar-link">ÁªôÈ°πÁõÆÁò¶Ë∫´ÔºåËÆ©ÂÆÉË∑ëËµ∑Êù•</a></li><li><a href="/aspnetcore/abp-blog/beautify-with-swagger.html" class="sidebar-link">ÂÆåÂñÑ‰∏éÁæéÂåñÔºåSwaggerÁôªÂú∫</a></li><li><a href="/aspnetcore/abp-blog/ef-and-codefirst.html" class="sidebar-link">Êï∞ÊçÆËÆøÈóÆÂíå‰ª£Á†Å‰ºòÂÖà</a></li><li><a href="/aspnetcore/abp-blog/repositories-and-crud.html" class="sidebar-link">Ëá™ÂÆö‰πâ‰ªìÂÇ®‰πãÂ¢ûÂà†ÊîπÊü•</a></li><li><a href="/aspnetcore/abp-blog/return-api.html" class="sidebar-link">Áªü‰∏ÄËßÑËåÉAPIÔºåÂåÖË£ÖËøîÂõûÊ®°Âûã</a></li><li><a href="/aspnetcore/abp-blog/swagger-group-describe-authorize.html" class="sidebar-link">ÂÜçËØ¥SwaggerÔºåÂàÜÁªÑ„ÄÅÊèèËø∞„ÄÅÂ∞èÁªøÈîÅ</a></li><li><a href="/aspnetcore/abp-blog/generate-jwt-with-github.html" aria-current="page" class="active sidebar-link">Êé•ÂÖ•GitHubÔºåÁî®JWT‰øùÊä§‰Ω†ÁöÑAPI</a></li><li><a href="/aspnetcore/abp-blog/exception-and-logging.html" class="sidebar-link">ÂºÇÂ∏∏Â§ÑÁêÜÂíåÊó•ÂøóËÆ∞ÂΩï</a></li><li><a href="/aspnetcore/abp-blog/use-redis-cachedatas.html" class="sidebar-link">‰ΩøÁî®RedisÁºìÂ≠òÊï∞ÊçÆ</a></li><li><a href="/aspnetcore/abp-blog/task-processing-with-hangfire.html" class="sidebar-link">ÈõÜÊàêHangfireÂÆûÁé∞ÂÆöÊó∂‰ªªÂä°Â§ÑÁêÜ</a></li><li><a href="/aspnetcore/abp-blog/object-mapping-with-automapper.html" class="sidebar-link">Áî®AutoMapperÊêûÂÆöÂØπË±°Êò†Â∞Ñ</a></li><li><a href="/aspnetcore/abp-blog/task-processing-bestpractice-1.html" class="sidebar-link">ÂÆöÊó∂‰ªªÂä°ÊúÄ‰Ω≥ÂÆûÊàòÔºà‰∏ÄÔºâ</a></li><li><a href="/aspnetcore/abp-blog/task-processing-bestpractice-2.html" class="sidebar-link">ÂÆöÊó∂‰ªªÂä°ÊúÄ‰Ω≥ÂÆûÊàòÔºà‰∫åÔºâ</a></li><li><a href="/aspnetcore/abp-blog/task-processing-bestpractice-3.html" class="sidebar-link">ÂÆöÊó∂‰ªªÂä°ÊúÄ‰Ω≥ÂÆûÊàòÔºà‰∏âÔºâ</a></li><li><a href="/aspnetcore/abp-blog/blog-api-bestpractice-1.html" class="sidebar-link">ÂçöÂÆ¢Êé•Âè£ÂÆûÊàòÁØáÔºà‰∏ÄÔºâ</a></li><li><a href="/aspnetcore/abp-blog/blog-api-bestpractice-2.html" class="sidebar-link">ÂçöÂÆ¢Êé•Âè£ÂÆûÊàòÁØáÔºà‰∫åÔºâ</a></li><li><a href="/aspnetcore/abp-blog/blog-api-bestpractice-3.html" class="sidebar-link">ÂçöÂÆ¢Êé•Âè£ÂÆûÊàòÁØáÔºà‰∏âÔºâ</a></li><li><a href="/aspnetcore/abp-blog/blog-api-bestpractice-4.html" class="sidebar-link">ÂçöÂÆ¢Êé•Âè£ÂÆûÊàòÁØáÔºàÂõõÔºâ</a></li><li><a href="/aspnetcore/abp-blog/blog-api-bestpractice-5.html" class="sidebar-link">ÂçöÂÆ¢Êé•Âè£ÂÆûÊàòÁØáÔºà‰∫îÔºâ</a></li><li><a href="/aspnetcore/abp-blog/blazor-bestpractice-1.html" class="sidebar-link">Blazor ÂÆûÊàòÁ≥ªÂàóÔºà‰∏ÄÔºâ</a></li><li><a href="/aspnetcore/abp-blog/blazor-bestpractice-2.html" class="sidebar-link">Blazor ÂÆûÊàòÁ≥ªÂàóÔºà‰∫åÔºâ</a></li><li><a href="/aspnetcore/abp-blog/blazor-bestpractice-3.html" class="sidebar-link">Blazor ÂÆûÊàòÁ≥ªÂàóÔºà‰∏âÔºâ</a></li><li><a href="/aspnetcore/abp-blog/blazor-bestpractice-4.html" class="sidebar-link">Blazor ÂÆûÊàòÁ≥ªÂàóÔºàÂõõÔºâ</a></li><li><a href="/aspnetcore/abp-blog/blazor-bestpractice-5.html" class="sidebar-link">Blazor ÂÆûÊàòÁ≥ªÂàóÔºà‰∫îÔºâ</a></li><li><a href="/aspnetcore/abp-blog/blazor-bestpractice-6.html" class="sidebar-link">Blazor ÂÆûÊàòÁ≥ªÂàóÔºàÂÖ≠Ôºâ</a></li><li><a href="/aspnetcore/abp-blog/blazor-bestpractice-7.html" class="sidebar-link">Blazor ÂÆûÊàòÁ≥ªÂàóÔºà‰∏ÉÔºâ</a></li><li><a href="/aspnetcore/abp-blog/blazor-bestpractice-8.html" class="sidebar-link">Blazor ÂÆûÊàòÁ≥ªÂàóÔºàÂÖ´Ôºâ</a></li><li><a href="/aspnetcore/abp-blog/blazor-bestpractice-9.html" class="sidebar-link">Blazor ÂÆûÊàòÁ≥ªÂàóÔºà‰πùÔºâ</a></li><li><a href="/aspnetcore/abp-blog/publish-blog.html" class="sidebar-link">ÁªàÁªìÁØá‰πãÂèëÂ∏ÉÈ°πÁõÆ</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="Êé•ÂÖ•github-Áî®jwt‰øùÊä§‰Ω†ÁöÑapi"><a href="#Êé•ÂÖ•github-Áî®jwt‰øùÊä§‰Ω†ÁöÑapi" class="header-anchor">#</a> Êé•ÂÖ•GitHubÔºåÁî®JWT‰øùÊä§‰Ω†ÁöÑAPI</h1> <p>‰∏ä‰∏ÄÁØáÊñáÁ´†ÂÜçÊ¨°ÊääSwaggerÁöÑ‰ΩøÁî®ËøõË°å‰∫ÜËÆ≤Ëß£ÔºåÂÆåÊàê‰∫ÜÂØπSwaggerÁöÑÂàÜÁªÑ„ÄÅÊèèËø∞ÂíåÂºÄÂêØÂ∞èÁªøÈîÅ‰ª•ËøõË°åË∫´‰ªΩÁöÑËÆ§ËØÅÊéàÊùÉÔºåÈÇ£‰πàÊú¨ÁØáÂ∞±Êù•ËØ¥ËØ¥Ë∫´‰ªΩËÆ§ËØÅÊéàÊùÉ„ÄÇ</p> <p>ÂºÄÂßã‰πãÂâçÂÖàÊêûÊ∏ÖÊ•öÂá†‰∏™Ê¶ÇÂøµÔºåËØ∑Ê≥®ÊÑèËÆ§ËØÅ‰∏éÊéàÊùÉÊòØ‰∏çÂêåÁöÑÊÑèÊÄùÔºåÁÆÄÂçïÁêÜËß£ÔºöËÆ§ËØÅÔºåÊòØËØÅÊòé‰Ω†ÁöÑË∫´‰ªΩÔºå‰Ω†ÊúâË¥¶Âè∑ÂØÜÁ†ÅÔºå‰Ω†ÂèØ‰ª•ÁôªÂΩïËøõÊàë‰ª¨ÁöÑÁ≥ªÁªüÔºåËØ¥Êòé‰Ω†ËÆ§ËØÅÊàêÂäü‰∫ÜÔºõÊéàÊùÉÔºåÂç≥ÊùÉÈôêÔºåÂàÜÈÖçÁªôÁî®Êà∑Êüê‰∏ÄÊùÉÈôêÊ†áËØÜÔºåÁî®Êà∑ÂæóÂà∞‰ªÄ‰πà‰ªÄ‰πàÊùÉÈôêÔºåÊâçËÉΩ‰ΩøÁî®Á≥ªÁªüÁöÑÊüê‰∏ÄÂäüËÉΩÔºåÂ∞±ÊòØÊéàÊùÉ„ÄÇ</p> <p>Ë∫´‰ªΩËÆ§ËØÅÂèØ‰ª•ÊúâÂæàÂ§öÁßçÊñπÂºèÔºåÂèØ‰ª•ÂàõÂª∫‰∏Ä‰∏™Áî®Êà∑Ë°®Ôºå‰ΩøÁî®Ë¥¶Âè∑ÂØÜÁ†ÅÔºå‰πüÂèØ‰ª•Êé•ÂÖ•Á¨¨‰∏âÊñπÂπ≥Âè∞ÔºåÂú®ËøôÈáåÊàëÊé•ÂÖ•GitHubËøõË°åË∫´‰ªΩËÆ§ËØÅ„ÄÇÂΩìÁÑ∂‰Ω†ÂèØ‰ª•ÈÄâÊã©ÂÖ∂‰ªñÊñπÂºè(Â¶ÇÔºöQQ„ÄÅÂæÆ‰ø°„ÄÅÂæÆÂçöÁ≠â)ÔºåÂèØ‰ª•Ëá™Â∑±Êâ©Â±ï„ÄÇ</p> <p>ÊâìÂºÄGitHubÔºåËøõÂÖ•ÂºÄÂèëËÄÖËÆæÁΩÆÁïåÈù¢(<a href="https://github.com/settings/developers" target="_blank" rel="noopener noreferrer">https://github.com/settings/developers<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>)ÔºåÊàë‰ª¨Êñ∞Âª∫‰∏Ä‰∏™ oAuth App„ÄÇ</p> <p><img src="/assets/img/generate-jwt-with-github-01.f530b825.png" alt=" "></p> <p><img src="/assets/img/generate-jwt-with-github-02.f488add0.png" alt=" "></p> <p>Â¶ÇÂõæÊâÄÁ§∫ÔºåÊàë‰ª¨Â∞ÜË¶ÅÁî®Âà∞ÊïèÊÑüÊï∞ÊçÆÊîæÂú®<code>appsettings.json</code>‰∏≠</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  ...
  <span class="token property">&quot;Github&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;UserId&quot;</span><span class="token operator">:</span> <span class="token number">13010050</span><span class="token punctuation">,</span>
    <span class="token property">&quot;ClientID&quot;</span><span class="token operator">:</span> <span class="token string">&quot;5956811a5d04337ec2ca&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;ClientSecret&quot;</span><span class="token operator">:</span> <span class="token string">&quot;8fc1062c39728a8c2a47ba445dd45165063edd92&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;RedirectUri&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://localhost:44388/account/auth&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;ApplicationName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ÈòøÊòüPlus&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p><code>ClientID</code>Âíå<code>ClientSecret</code>ÊòØGitHub‰∏∫Êàë‰ª¨ÁîüÊàêÁöÑÔºåËØ∑Ê≥®ÊÑè‰øùÁÆ°Â•Ω‰Ω†ÁöÑ<code>ClientID</code>Âíå<code>ClientSecret</code>„ÄÇÊàëËøôÈáåÁõ¥Êé•ÁªôÂá∫‰∫ÜÊòéÊñáÔºåÊàëÂ∞ÜÂú®Êú¨ÁØáÁªìÊùüÂêéÂà†ÊéâÊ≠§ oAuth App üòù„ÄÇËØ∑Ëá™Â∑±ÂàõÂª∫Âô¢ÔºÅ</p> <p><code>RedirectUri</code>ÊòØÊàë‰ª¨Ëá™Â∑±Ê∑ªÂä†ÁöÑÂõûË∞ÉÂú∞ÂùÄ„ÄÇ<code>ApplicationName</code>ÊòØÊàë‰ª¨Â∫îÁî®ÁöÑÂêçÁß∞ÔºåÂÖ®ÈÉ®ÈÉΩË¶ÅÂíåGitHubÂØπÂ∫î„ÄÇ</p> <p>Áõ∏Â∫îÁöÑÂú®<code>AppSettings.cs</code>‰∏≠ËØªÂèñ</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token range operator">..</span><span class="token punctuation">.</span>
        <span class="token comment">/// &lt;summary&gt;</span>
        <span class="token comment">/// GitHub</span>
        <span class="token comment">/// &lt;/summary&gt;</span>
        <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">GitHub</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> UserId <span class="token operator">=&gt;</span> Convert<span class="token punctuation">.</span><span class="token function">ToInt32</span><span class="token punctuation">(</span>_config<span class="token punctuation">[</span><span class="token string">&quot;Github:UserId&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Client_ID <span class="token operator">=&gt;</span> _config<span class="token punctuation">[</span><span class="token string">&quot;Github:ClientID&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

            <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Client_Secret <span class="token operator">=&gt;</span> _config<span class="token punctuation">[</span><span class="token string">&quot;Github:ClientSecret&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

            <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Redirect_Uri <span class="token operator">=&gt;</span> _config<span class="token punctuation">[</span><span class="token string">&quot;Github:RedirectUri&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

            <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> ApplicationName <span class="token operator">=&gt;</span> _config<span class="token punctuation">[</span><span class="token string">&quot;Github:ApplicationName&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
<span class="token range operator">..</span><span class="token punctuation">.</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>Êé•‰∏ãÊù•ÔºåÊàë‰ª¨Â§ßÂÆ∂Ëá™Ë°åÂéªGitHubÁöÑOAuthÂÆòÊñπÊñáÊ°£ÁúãÁúãÔºå<a href="https://developer.github.com/apps/building-oauth-apps/authorizing-oauth-apps/" target="_blank" rel="noopener noreferrer">https://developer.github.com/apps/building-oauth-apps/authorizing-oauth-apps/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>ÂàÜÊûê‰∏Ä‰∏ãÔºåÊàë‰ª¨Êé•ÂÖ•GitHubË∫´‰ªΩËÆ§ËØÅÊéàÊùÉÊï¥‰∏™ÊµÅÁ®ã‰∏ãÊù•ÂàÜ‰ª•‰∏ãÂá†Ê≠•</p> <ol><li>Ê†πÊçÆÂèÇÊï∞ÁîüÊàêGitHubÈáçÂÆöÂêëÁöÑÂú∞ÂùÄÔºåË∑≥ËΩ¨Âà∞GitHubÁôªÂΩïÈ°µÔºåËøõË°åÁôªÂΩï</li> <li>ÁôªÂΩïÊàêÂäü‰πãÂêé‰ºöË∑≥ËΩ¨Âà∞Êàë‰ª¨ÁöÑÂõûË∞ÉÂú∞ÂùÄÔºåÂõûË∞ÉÂú∞ÂùÄ‰ºöÊê∫Â∏¶<code>code</code>ÂèÇÊï∞</li> <li>ÊãøÂà∞codeÂèÇÊï∞ÔºåÂ∞±ÂèØ‰ª•Êç¢ÂèñÂà∞access_token</li> <li>Êúâ‰∫Üaccess_tokenÔºåÂèØ‰ª•Ë∞ÉÁî®GitHubËé∑ÂèñÁî®Êà∑‰ø°ÊÅØÁöÑÊé•Âè£ÔºåÂæóÂà∞ÂΩìÂâçÁôªÂΩïÊàêÂäüÁöÑÁî®Êà∑‰ø°ÊÅØ</li></ol> <p>ÂºÄÂßã‰πãÂâçÔºåÂÖàÂ∞ÜGitHubÁöÑAPIÁÆÄÂçïÂ§ÑÁêÜ‰∏Ä‰∏ã„ÄÇ</p> <p>Âú®<code>.Domain</code>Â±Ç‰∏≠ConfigurationsÊñá‰ª∂Â§π‰∏ãÊñ∞Âª∫<code>GitHubConfig.cs</code>ÈÖçÁΩÆÁ±ªÔºåÂ∞ÜÊâÄÈúÄË¶ÅÁöÑAPI‰ª•Âèä<code>appsettings.json</code>ÁöÑÂÜÖÂÆπËØªÂèñÂá∫Êù•„ÄÇ</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token comment">//GitHubConfig.cs</span>
<span class="token keyword">namespace</span> <span class="token namespace">Meowv<span class="token punctuation">.</span>Blog<span class="token punctuation">.</span>Domain<span class="token punctuation">.</span>Configurations</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GitHubConfig</span>
    <span class="token punctuation">{</span>
        <span class="token comment">/// &lt;summary&gt;</span>
        <span class="token comment">/// GETËØ∑Ê±ÇÔºåË∑≥ËΩ¨GitHubÁôªÂΩïÁïåÈù¢ÔºåËé∑ÂèñÁî®Êà∑ÊéàÊùÉÔºåÂæóÂà∞code</span>
        <span class="token comment">/// &lt;/summary&gt;</span>
        <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name"><span class="token keyword">string</span></span> API_Authorize <span class="token operator">=</span> <span class="token string">&quot;https://github.com/login/oauth/authorize&quot;</span><span class="token punctuation">;</span>

        <span class="token comment">/// &lt;summary&gt;</span>
        <span class="token comment">/// POSTËØ∑Ê±ÇÔºåÊ†πÊçÆcodeÂæóÂà∞access_token</span>
        <span class="token comment">/// &lt;/summary&gt;</span>
        <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name"><span class="token keyword">string</span></span> API_AccessToken <span class="token operator">=</span> <span class="token string">&quot;https://github.com/login/oauth/access_token&quot;</span><span class="token punctuation">;</span>

        <span class="token comment">/// &lt;summary&gt;</span>
        <span class="token comment">/// GETËØ∑Ê±ÇÔºåÊ†πÊçÆaccess_tokenÂæóÂà∞Áî®Êà∑‰ø°ÊÅØ</span>
        <span class="token comment">/// &lt;/summary&gt;</span>
        <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name"><span class="token keyword">string</span></span> API_User <span class="token operator">=</span> <span class="token string">&quot;https://api.github.com/user&quot;</span><span class="token punctuation">;</span>

        <span class="token comment">/// &lt;summary&gt;</span>
        <span class="token comment">/// Github UserId</span>
        <span class="token comment">/// &lt;/summary&gt;</span>
        <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name"><span class="token keyword">int</span></span> UserId <span class="token operator">=</span> AppSettings<span class="token punctuation">.</span>GitHub<span class="token punctuation">.</span>UserId<span class="token punctuation">;</span>

        <span class="token comment">/// &lt;summary&gt;</span>
        <span class="token comment">/// Client ID</span>
        <span class="token comment">/// &lt;/summary&gt;</span>
        <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name"><span class="token keyword">string</span></span> Client_ID <span class="token operator">=</span> AppSettings<span class="token punctuation">.</span>GitHub<span class="token punctuation">.</span>Client_ID<span class="token punctuation">;</span>

        <span class="token comment">/// &lt;summary&gt;</span>
        <span class="token comment">/// Client Secret</span>
        <span class="token comment">/// &lt;/summary&gt;</span>
        <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name"><span class="token keyword">string</span></span> Client_Secret <span class="token operator">=</span> AppSettings<span class="token punctuation">.</span>GitHub<span class="token punctuation">.</span>Client_Secret<span class="token punctuation">;</span>

        <span class="token comment">/// &lt;summary&gt;</span>
        <span class="token comment">/// Authorization callback URL</span>
        <span class="token comment">/// &lt;/summary&gt;</span>
        <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name"><span class="token keyword">string</span></span> Redirect_Uri <span class="token operator">=</span> AppSettings<span class="token punctuation">.</span>GitHub<span class="token punctuation">.</span>Redirect_Uri<span class="token punctuation">;</span>

        <span class="token comment">/// &lt;summary&gt;</span>
        <span class="token comment">/// Application name</span>
        <span class="token comment">/// &lt;/summary&gt;</span>
        <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name"><span class="token keyword">string</span></span> ApplicationName <span class="token operator">=</span> AppSettings<span class="token punctuation">.</span>GitHub<span class="token punctuation">.</span>ApplicationName<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br></div></div><p>ÁªÜÂøÉÁöÑÂêåÂ≠¶ÂèØËÉΩ‰ª•ÂèäÁúãÂà∞‰∫ÜÔºåÊàë‰ª¨Âú®ÈÖçÁΩÆÁöÑÊó∂ÂÄôÂ§ö‰∫Ü‰∏Ä‰∏™<code>UserId</code>„ÄÇÂú®ËøôÈáå‰ΩøÁî®‰∏Ä‰∏™Á≠ñÁï•ÔºåÂõ†‰∏∫ÊàëÊòØÂçöÂÆ¢Á≥ªÁªüÔºåÁÆ°ÁêÜÂëòÁî®Êà∑Â∞±Âè™ÊúâÊàë‰∏Ä‰∏™‰∫∫ÔºåGitHubÁöÑÁî®Êà∑IdÊòØÂîØ‰∏ÄÁöÑÔºåÊàëÂ∞ÜËá™Â∑±ÁöÑ<code>UserId</code>ÈÖçÁΩÆËøõÂéªÔºåÂΩìÊàë‰ª¨ÈÄöËøáapiËé∑ÂèñÂà∞<code>UserId</code>ÂíåËá™Â∑±ÈÖçÁΩÆÁöÑ<code>UserId</code>‰∏ÄËá¥Êó∂ÔºåÂ∞±‰∏∫ÂÖ∂ÊéàÊùÉÔºå‰Ω†Â∞±ÊòØÊàëÔºåÊàëËÆ§ÂèØ‰Ω†Ôºå‰Ω†ÂèØ‰ª•ËøõÂÖ•ÂêéÂè∞ÈöèÊÑèÁé©ËÄç‰∫Ü„ÄÇ</p> <p>Âú®ÂºÄÂßãÂÜôÊé•Âè£‰πãÂâçÔºåËøòÊúâ‰∏Ä‰∫õÂ∑•‰ΩúË¶ÅÂÅöÔºåÂ∞±ÊòØÂú® .net core ‰∏≠ÂºÄÂêØ‰ΩøÁî®Êàë‰ª¨ÁöÑË∫´‰ªΩËÆ§ËØÅÂíåÊéàÊùÉÔºåÂõ†‰∏∫<code>.HttpApi.Hosting</code>Â±ÇÂºïÁî®‰∫ÜÈ°πÁõÆ<code>.Application</code>Ôºå<code>.Application</code>Â±ÇÊú¨Ë∫´‰πüÈúÄË¶ÅÊ∑ªÂä†<code>Microsoft.AspNetCore.Authentication.JwtBearer</code>ÔºåÊâÄ‰ª•Âú®<code>.Application</code>Ê∑ªÂä†ÂåÖÔºö<code>Microsoft.AspNetCore.Authentication.JwtBearer</code>ÔºåÊâìÂºÄÁ®ãÂ∫èÂåÖÁÆ°ÁêÜÂô®ÊéßÂà∂Âè∞Áî®ÂëΩ‰ª§<code>Install-Package Microsoft.AspNetCore.Authentication.JwtBearer</code>ÂÆâË£ÖÔºåËøôÊ†∑Â∞±‰∏çÈúÄË¶ÅÈáçÂ§çÊ∑ªÂä†ÂºïÁî®‰∫Ü„ÄÇ</p> <p>Âú®<code>.HttpApi.Hosting</code>Ê®°ÂùóÁ±ª<code>MeowvBlogHttpApiHostingModule</code>Ôºå<code>ConfigureServices</code>‰∏≠Ê∑ªÂä†</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">ConfigureServices</span><span class="token punctuation">(</span><span class="token class-name">ServiceConfigurationContext</span> context<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">// Ë∫´‰ªΩÈ™åËØÅ</span>
    context<span class="token punctuation">.</span>Services<span class="token punctuation">.</span><span class="token function">AddAuthentication</span><span class="token punctuation">(</span>JwtBearerDefaults<span class="token punctuation">.</span>AuthenticationScheme<span class="token punctuation">)</span>
           <span class="token punctuation">.</span><span class="token function">AddJwtBearer</span><span class="token punctuation">(</span>options <span class="token operator">=&gt;</span>
           <span class="token punctuation">{</span>
               options<span class="token punctuation">.</span>TokenValidationParameters <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">TokenValidationParameters</span>
               <span class="token punctuation">{</span>
                   ValidateIssuer <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
                   ValidateAudience <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
                   ValidateLifetime <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
                   ClockSkew <span class="token operator">=</span> TimeSpan<span class="token punctuation">.</span><span class="token function">FromSeconds</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                   ValidateIssuerSigningKey <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
                   ValidAudience <span class="token operator">=</span> AppSettings<span class="token punctuation">.</span>JWT<span class="token punctuation">.</span>Domain<span class="token punctuation">,</span>
                   ValidIssuer <span class="token operator">=</span> AppSettings<span class="token punctuation">.</span>JWT<span class="token punctuation">.</span>Domain<span class="token punctuation">,</span>
                   IssuerSigningKey <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">SymmetricSecurityKey</span><span class="token punctuation">(</span>AppSettings<span class="token punctuation">.</span>JWT<span class="token punctuation">.</span>SecurityKey<span class="token punctuation">.</span><span class="token function">GetBytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
               <span class="token punctuation">}</span><span class="token punctuation">;</span>
           <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// ËÆ§ËØÅÊéàÊùÉ</span>
    context<span class="token punctuation">.</span>Services<span class="token punctuation">.</span><span class="token function">AddAuthorization</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// HttpËØ∑Ê±Ç</span>
    context<span class="token punctuation">.</span>Services<span class="token punctuation">.</span><span class="token function">AddHttpClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><p>Âõ†‰∏∫ÂæÖ‰ºöÊàë‰ª¨Ë¶ÅÂú®‰ª£Á†Å‰∏≠Ë∞ÉÁî®GitHubÁöÑapiÔºåÊâÄ‰ª•ËøôÈáåÊèêÂâçÂ∞Ü<code>System.Net.Http.IHttpClientFactory</code>ÂíåÁõ∏ÂÖ≥ÊúçÂä°Ê∑ªÂä†Âà∞IServiceCollection‰∏≠„ÄÇ</p> <p>Ëß£Èáä‰∏Ä‰∏ã<code>TokenValidationParameters</code>ÂèÇÊï∞ÁöÑÂê´‰πâÔºö</p> <p><code>ValidateIssuer</code>ÔºöÊòØÂê¶È™åËØÅÈ¢ÅÂèëËÄÖ„ÄÇ<code>ValidateAudience</code>ÔºöÊòØÂê¶È™åËØÅËÆøÈóÆÁæ§‰Ωì„ÄÇ<code>ValidateLifetime</code>ÔºöÊòØÂê¶È™åËØÅÁîüÂ≠òÊúü„ÄÇ<code>ClockSkew</code>ÔºöÈ™åËØÅTokenÁöÑÊó∂Èó¥ÂÅèÁßªÈáè„ÄÇ<code>ValidateIssuerSigningKey</code>ÔºöÊòØÂê¶È™åËØÅÂÆâÂÖ®ÂØÜÈí•„ÄÇ<code>ValidAudience</code>ÔºöËÆøÈóÆÁæ§‰Ωì„ÄÇ<code>ValidIssuer</code>ÔºöÈ¢ÅÂèëËÄÖ„ÄÇ<code>IssuerSigningKey</code>ÔºöÂÆâÂÖ®ÂØÜÈí•„ÄÇ
<code>GetBytes()</code>ÊòØabpÁöÑ‰∏Ä‰∏™Êâ©Â±ïÊñπÊ≥ïÔºåÂèØ‰ª•Áõ¥Êé•‰ΩøÁî®„ÄÇ</p> <p>ËÆæÁΩÆÂÄºÂÖ®ÈÉ®‰∏∫trueÔºåÊó∂Èó¥ÂÅèÁßªÈáè‰∏∫30ÁßíÔºåÁÑ∂ÂêéÂ∞Ü<code>ValidAudience</code>„ÄÅ<code>ValidIssuer</code>„ÄÅ<code>IssuerSigningKey</code>ÁöÑÂÄºÈÖçÁΩÆÂú®<code>appsettings.json</code>‰∏≠ÔºåËøô‰∫õÂÄºÈÉΩÊòØÂèØ‰ª•Ëá™ÂÆö‰πâÁöÑÔºå‰∏ç‰∏ÄÂÆöÊåâÁÖßÊàëÂ°´ÁöÑÊù•„ÄÇ</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token comment">//appsettings.json</span>
<span class="token punctuation">{</span>
  <span class="token range operator">..</span><span class="token punctuation">.</span>
  <span class="token string">&quot;JWT&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;Domain&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;https://localhost:44388&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;SecurityKey&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;H4sIAAAAAAAAA3N0cnZxdXP38PTy9vH18w8I9AkOCQ0Lj4iMAgDB4fXPGgAAAA==&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;Expires&quot;</span><span class="token punctuation">:</span> <span class="token number">30</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">//AppSettings.cs</span>
<span class="token range operator">..</span><span class="token punctuation">.</span>
        <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">JWT</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Domain <span class="token operator">=&gt;</span> _config<span class="token punctuation">[</span><span class="token string">&quot;JWT:Domain&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

            <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> SecurityKey <span class="token operator">=&gt;</span> _config<span class="token punctuation">[</span><span class="token string">&quot;JWT:SecurityKey&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

            <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> Expires <span class="token operator">=&gt;</span> Convert<span class="token punctuation">.</span><span class="token function">ToInt32</span><span class="token punctuation">(</span>_config<span class="token punctuation">[</span><span class="token string">&quot;JWT:Expires&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
<span class="token range operator">..</span><span class="token punctuation">.</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><p><code>Expires</code>ÊòØÊàë‰ª¨ÁöÑtokenËøáÊúüÊó∂Èó¥ÔºåËøôÈáå‰πüÁªô‰∏™30„ÄÇËá≥‰∫éÂÆÉÊòØ30ÂàÜÈíüËøòÊòØ30ÁßíÔºåÁî±‰Ω†Ëá™Â∑±ÂÜ≥ÂÆö„ÄÇ</p> <p><code>SecurityKey</code>ÊòØÊàëÈöè‰æøÁî®ÁºñÁ†ÅÂ∑•ÂÖ∑ËøõË°åÁîüÊàêÁöÑ„ÄÇ</p> <p>ÂêåÊó∂Âú®<code>OnApplicationInitialization(ApplicationInitializationContext context)</code>‰∏≠‰ΩøÁî®ÂÆÉ„ÄÇ</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token range operator">..</span><span class="token punctuation">.</span>
        <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">OnApplicationInitialization</span><span class="token punctuation">(</span><span class="token class-name">ApplicationInitializationContext</span> context<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token range operator">..</span><span class="token punctuation">.</span>
            <span class="token comment">// Ë∫´‰ªΩÈ™åËØÅ</span>
            app<span class="token punctuation">.</span><span class="token function">UseAuthentication</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">// ËÆ§ËØÅÊéàÊùÉ</span>
            app<span class="token punctuation">.</span><span class="token function">UseAuthorization</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token range operator">..</span><span class="token punctuation">.</span>
        <span class="token punctuation">}</span>
<span class="token range operator">..</span><span class="token punctuation">.</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>Ê≠§Êó∂ÈÖçÁΩÆÂ∞±ÂÆåÊàê‰∫ÜÔºåÊé•‰∏ãÊù•ÂéªÂÜôÊé•Âè£ÁîüÊàêTokenÂπ∂Âú®Swagger‰∏≠ËøêÁî®Ëµ∑Êù•„ÄÇ</p> <p>Âú®<code>.Application</code>Â±Ç‰πãÂâçÂ∑≤ÁªèÊ∑ªÂä†‰∫ÜÂåÖÔºö<code>Microsoft.AspNetCore.Authentication.JwtBearer</code>ÔºåÁõ¥Êé•Êñ∞Âª∫AuthorizeÊñá‰ª∂Â§πÔºåÊ∑ªÂä†Êé•Âè£<code>IAuthorizeService</code>‰ª•ÂèäÂÆûÁé∞Á±ª<code>AuthorizeService</code>„ÄÇ</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token comment">//IAuthorizeService.cs</span>
<span class="token keyword">using</span> <span class="token namespace">Meowv<span class="token punctuation">.</span>Blog<span class="token punctuation">.</span>ToolKits<span class="token punctuation">.</span>Base</span><span class="token punctuation">;</span>
<span class="token keyword">using</span> <span class="token namespace">System<span class="token punctuation">.</span>Threading<span class="token punctuation">.</span>Tasks</span><span class="token punctuation">;</span>

<span class="token keyword">namespace</span> <span class="token namespace">Meowv<span class="token punctuation">.</span>Blog<span class="token punctuation">.</span>Application<span class="token punctuation">.</span>Authorize</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">IAuthorizeService</span>
    <span class="token punctuation">{</span>
        <span class="token comment">/// &lt;summary&gt;</span>
        <span class="token comment">/// Ëé∑ÂèñÁôªÂΩïÂú∞ÂùÄ(GitHub)</span>
        <span class="token comment">/// &lt;/summary&gt;</span>
        <span class="token comment">/// &lt;returns&gt;&lt;/returns&gt;</span>
        <span class="token return-type class-name">Task<span class="token punctuation">&lt;</span>ServiceResult<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token function">GetLoginAddressAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">/// &lt;summary&gt;</span>
        <span class="token comment">/// Ëé∑ÂèñAccessToken</span>
        <span class="token comment">/// &lt;/summary&gt;</span>
        <span class="token comment">/// &lt;param name=&quot;code&quot;&gt;&lt;/param&gt;</span>
        <span class="token comment">/// &lt;returns&gt;&lt;/returns&gt;</span>
        <span class="token return-type class-name">Task<span class="token punctuation">&lt;</span>ServiceResult<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token function">GetAccessTokenAsync</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span></span> code<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">/// &lt;summary&gt;</span>
        <span class="token comment">/// ÁôªÂΩïÊàêÂäüÔºåÁîüÊàêToken</span>
        <span class="token comment">/// &lt;/summary&gt;</span>
        <span class="token comment">/// &lt;param name=&quot;access_token&quot;&gt;&lt;/param&gt;</span>
        <span class="token comment">/// &lt;returns&gt;&lt;/returns&gt;</span>
        <span class="token return-type class-name">Task<span class="token punctuation">&lt;</span>ServiceResult<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token function">GenerateTokenAsync</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span></span> access_token<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><p>Ê∑ªÂä†‰∏â‰∏™Êé•Âè£ÊàêÂëòÊñπÊ≥ïÔºåÂÖ®ÈÉ®‰∏∫ÂºÇÊ≠•ÁöÑÊñπÂºèÔºåÂêåÊó∂Ê≥®ÊÑèÊàë‰ª¨ÊòØÁî®‰πãÂâçÁºñÂÜôÁöÑËøîÂõûÊ®°ÂûãÊé•Êî∂Âô¢ÔºåÁÑ∂Âêé‰∏Ä‰∏ÄÂéªÂÆûÁé∞‰ªñ‰ª¨„ÄÇ</p> <p>ÂÖàÂÆûÁé∞<code>GetLoginAddressAsync()</code>ÔºåÂí±‰ª¨ÊûÑÂª∫‰∏Ä‰∏™<code>AuthorizeRequest</code>ÂØπË±°ÔºåÁî®Êù•Â°´ÂÖÖÁîüÊàêGitHubÁôªÂΩïÂú∞ÂùÄÔºåÂú®<code>.ToolKits</code>Â±ÇÊñ∞Âª∫GitHubÊñá‰ª∂Â§πÔºåÂºïÁî®<code>.Domain</code>È°πÁõÆÔºåÊ∑ªÂä†Á±ªÔºö<code>AuthorizeRequest.cs</code>„ÄÇ</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token comment">//AuthorizeRequest.cs</span>
<span class="token keyword">using</span> <span class="token namespace">Meowv<span class="token punctuation">.</span>Blog<span class="token punctuation">.</span>Domain<span class="token punctuation">.</span>Configurations</span><span class="token punctuation">;</span>
<span class="token keyword">using</span> <span class="token namespace">System</span><span class="token punctuation">;</span>

<span class="token keyword">namespace</span> <span class="token namespace">Meowv<span class="token punctuation">.</span>Blog<span class="token punctuation">.</span>ToolKits<span class="token punctuation">.</span>GitHub</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AuthorizeRequest</span>
    <span class="token punctuation">{</span>
        <span class="token comment">/// &lt;summary&gt;</span>
        <span class="token comment">/// Client ID</span>
        <span class="token comment">/// &lt;/summary&gt;</span>
        <span class="token keyword">public</span> <span class="token class-name"><span class="token keyword">string</span></span> Client_ID <span class="token operator">=</span> GitHubConfig<span class="token punctuation">.</span>Client_ID<span class="token punctuation">;</span>

        <span class="token comment">/// &lt;summary&gt;</span>
        <span class="token comment">/// Authorization callback URL</span>
        <span class="token comment">/// &lt;/summary&gt;</span>
        <span class="token keyword">public</span> <span class="token class-name"><span class="token keyword">string</span></span> Redirect_Uri <span class="token operator">=</span> GitHubConfig<span class="token punctuation">.</span>Redirect_Uri<span class="token punctuation">;</span>

        <span class="token comment">/// &lt;summary&gt;</span>
        <span class="token comment">/// State</span>
        <span class="token comment">/// &lt;/summary&gt;</span>
        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> State <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token operator">=</span> Guid<span class="token punctuation">.</span><span class="token function">NewGuid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token string">&quot;N&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">/// &lt;summary&gt;</span>
        <span class="token comment">/// ËØ•ÂèÇÊï∞ÂèØÈÄâÔºåÈúÄË¶ÅË∞ÉÁî®GithubÂì™‰∫õ‰ø°ÊÅØÔºåÂèØ‰ª•Â°´ÂÜôÂ§ö‰∏™Ôºå‰ª•ÈÄóÂè∑ÂàÜÂâ≤ÔºåÊØîÂ¶ÇÔºöscope=user,public_repo„ÄÇ</span>
        <span class="token comment">/// Â¶ÇÊûú‰∏çÂ°´ÂÜôÔºåÈÇ£‰πà‰Ω†ÁöÑÂ∫îÁî®Á®ãÂ∫èÂ∞ÜÂè™ËÉΩËØªÂèñGithubÂÖ¨ÂºÄÁöÑ‰ø°ÊÅØÔºåÊØîÂ¶ÇÂÖ¨ÂºÄÁöÑÁî®Êà∑‰ø°ÊÅØÔºåÂÖ¨ÂºÄÁöÑÂ∫ì(repository)‰ø°ÊÅØ‰ª•Âèägists‰ø°ÊÅØ</span>
        <span class="token comment">/// &lt;/summary&gt;</span>
        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Scope <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token string">&quot;user,public_repo&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div><p>ÂÆûÁé∞ÊñπÊ≥ïÂ¶Ç‰∏ãÔºåÊãºÊé•ÂèÇÊï∞ÔºåËæìÂá∫GitHubÈáçÂÆöÂêëÁöÑÂú∞ÂùÄ„ÄÇ</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token range operator">..</span><span class="token punctuation">.</span>
        <span class="token comment">/// &lt;summary&gt;</span>
        <span class="token comment">/// Ëé∑ÂèñÁôªÂΩïÂú∞ÂùÄ(GitHub)</span>
        <span class="token comment">/// &lt;/summary&gt;</span>
        <span class="token comment">/// &lt;returns&gt;&lt;/returns&gt;</span>
        <span class="token keyword">public</span> <span class="token keyword">async</span> <span class="token return-type class-name">Task<span class="token punctuation">&lt;</span>ServiceResult<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token function">GetLoginAddressAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token class-name"><span class="token keyword">var</span></span> result <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">ServiceResult<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token class-name"><span class="token keyword">var</span></span> request <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">AuthorizeRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name"><span class="token keyword">var</span></span> address <span class="token operator">=</span> <span class="token keyword">string</span><span class="token punctuation">.</span><span class="token function">Concat</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name"><span class="token keyword">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span>
            <span class="token punctuation">{</span>
                    GitHubConfig<span class="token punctuation">.</span>API_Authorize<span class="token punctuation">,</span>
                    <span class="token string">&quot;?client_id=&quot;</span><span class="token punctuation">,</span> request<span class="token punctuation">.</span>Client_ID<span class="token punctuation">,</span>
                    <span class="token string">&quot;&amp;scope=&quot;</span><span class="token punctuation">,</span> request<span class="token punctuation">.</span>Scope<span class="token punctuation">,</span>
                    <span class="token string">&quot;&amp;state=&quot;</span><span class="token punctuation">,</span> request<span class="token punctuation">.</span>State<span class="token punctuation">,</span>
                    <span class="token string">&quot;&amp;redirect_uri=&quot;</span><span class="token punctuation">,</span> request<span class="token punctuation">.</span>Redirect_Uri
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            result<span class="token punctuation">.</span><span class="token function">IsSuccess</span><span class="token punctuation">(</span>address<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token keyword">await</span> Task<span class="token punctuation">.</span><span class="token function">FromResult</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
<span class="token range operator">..</span><span class="token punctuation">.</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><p>ÂêåÊ†∑ÁöÑÔºåÂÆûÁé∞<code>GetAccessTokenAsync(string code)</code>ÔºåÊûÑÂª∫<code>AccessTokenRequest</code>ÂØπË±°ÔºåÂú®<code>.ToolKits</code>GitHubÊñá‰ª∂Â§πÊ∑ªÂä†Á±ªÔºö<code>AccessTokenRequest.cs</code>„ÄÇ</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token comment">//AccessTokenRequest.cs</span>
<span class="token keyword">using</span> <span class="token namespace">Meowv<span class="token punctuation">.</span>Blog<span class="token punctuation">.</span>Domain<span class="token punctuation">.</span>Configurations</span><span class="token punctuation">;</span>

<span class="token keyword">namespace</span> <span class="token namespace">Meowv<span class="token punctuation">.</span>Blog<span class="token punctuation">.</span>ToolKits<span class="token punctuation">.</span>GitHub</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AccessTokenRequest</span>
    <span class="token punctuation">{</span>
        <span class="token comment">/// &lt;summary&gt;</span>
        <span class="token comment">/// Client ID</span>
        <span class="token comment">/// &lt;/summary&gt;</span>
        <span class="token keyword">public</span> <span class="token class-name"><span class="token keyword">string</span></span> Client_ID <span class="token operator">=</span> GitHubConfig<span class="token punctuation">.</span>Client_ID<span class="token punctuation">;</span>

        <span class="token comment">/// &lt;summary&gt;</span>
        <span class="token comment">/// Client Secret</span>
        <span class="token comment">/// &lt;/summary&gt;</span>
        <span class="token keyword">public</span> <span class="token class-name"><span class="token keyword">string</span></span> Client_Secret <span class="token operator">=</span> GitHubConfig<span class="token punctuation">.</span>Client_Secret<span class="token punctuation">;</span>

        <span class="token comment">/// &lt;summary&gt;</span>
        <span class="token comment">/// Ë∞ÉÁî®API_AuthorizeËé∑ÂèñÂà∞ÁöÑCodeÂÄº</span>
        <span class="token comment">/// &lt;/summary&gt;</span>
        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Code <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

        <span class="token comment">/// &lt;summary&gt;</span>
        <span class="token comment">/// Authorization callback URL</span>
        <span class="token comment">/// &lt;/summary&gt;</span>
        <span class="token keyword">public</span> <span class="token class-name"><span class="token keyword">string</span></span> Redirect_Uri <span class="token operator">=</span> GitHubConfig<span class="token punctuation">.</span>Redirect_Uri<span class="token punctuation">;</span>

        <span class="token comment">/// &lt;summary&gt;</span>
        <span class="token comment">/// State</span>
        <span class="token comment">/// &lt;/summary&gt;</span>
        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> State <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><p>Ê†πÊçÆÁôªÂΩïÊàêÂäüÂæóÂà∞ÁöÑcodeÊù•Ëé∑ÂèñAccessTokenÔºåÂõ†‰∏∫Ê∂âÂèäÂà∞HTTPËØ∑Ê±ÇÔºåÂú®Ëøô‰πãÂâçÊàë‰ª¨ÈúÄË¶ÅÂú®ÊûÑÈÄ†ÂáΩÊï∞‰∏≠‰æùËµñÊ≥®ÂÖ•<code>IHttpClientFactory</code>Ôºå‰ΩøÁî®<code>IHttpClientFactory</code>ÂàõÂª∫<code>HttpClient</code>„ÄÇ</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token range operator">..</span><span class="token punctuation">.</span>
<span class="token keyword">private</span> <span class="token keyword">readonly</span> <span class="token class-name">IHttpClientFactory</span> _httpClient<span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token function">AuthorizeService</span><span class="token punctuation">(</span><span class="token class-name">IHttpClientFactory</span> httpClient<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    _httpClient <span class="token operator">=</span> httpClient<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token range operator">..</span><span class="token punctuation">.</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token range operator">..</span><span class="token punctuation">.</span>
        <span class="token comment">/// &lt;summary&gt;</span>
        <span class="token comment">/// Ëé∑ÂèñAccessToken</span>
        <span class="token comment">/// &lt;/summary&gt;</span>
        <span class="token comment">/// &lt;param name=&quot;code&quot;&gt;&lt;/param&gt;</span>
        <span class="token comment">/// &lt;returns&gt;&lt;/returns&gt;</span>
        <span class="token keyword">public</span> <span class="token keyword">async</span> <span class="token return-type class-name">Task<span class="token punctuation">&lt;</span>ServiceResult<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token function">GetAccessTokenAsync</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span></span> code<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token class-name"><span class="token keyword">var</span></span> result <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">ServiceResult<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">string</span><span class="token punctuation">.</span><span class="token function">IsNullOrEmpty</span><span class="token punctuation">(</span>code<span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                result<span class="token punctuation">.</span><span class="token function">IsFailed</span><span class="token punctuation">(</span><span class="token string">&quot;code‰∏∫Á©∫&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">return</span> result<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            <span class="token class-name"><span class="token keyword">var</span></span> request <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">AccessTokenRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token class-name"><span class="token keyword">var</span></span> content <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">StringContent</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$&quot;code=</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">code</span><span class="token punctuation">}</span></span><span class="token string">&amp;client_id=</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">request<span class="token punctuation">.</span>Client_ID</span><span class="token punctuation">}</span></span><span class="token string">&amp;redirect_uri=</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">request<span class="token punctuation">.</span>Redirect_Uri</span><span class="token punctuation">}</span></span><span class="token string">&amp;client_secret=</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">request<span class="token punctuation">.</span>Client_Secret</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            content<span class="token punctuation">.</span>Headers<span class="token punctuation">.</span>ContentType <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">MediaTypeHeaderValue</span><span class="token punctuation">(</span><span class="token string">&quot;application/x-www-form-urlencoded&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">using</span> <span class="token class-name"><span class="token keyword">var</span></span> client <span class="token operator">=</span> _httpClient<span class="token punctuation">.</span><span class="token function">CreateClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name"><span class="token keyword">var</span></span> httpResponse <span class="token operator">=</span> <span class="token keyword">await</span> client<span class="token punctuation">.</span><span class="token function">PostAsync</span><span class="token punctuation">(</span>GitHubConfig<span class="token punctuation">.</span>API_AccessToken<span class="token punctuation">,</span> content<span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token class-name"><span class="token keyword">var</span></span> response <span class="token operator">=</span> <span class="token keyword">await</span> httpResponse<span class="token punctuation">.</span>Content<span class="token punctuation">.</span><span class="token function">ReadAsStringAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">if</span> <span class="token punctuation">(</span>response<span class="token punctuation">.</span><span class="token function">StartsWith</span><span class="token punctuation">(</span><span class="token string">&quot;access_token&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                result<span class="token punctuation">.</span><span class="token function">IsSuccess</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span><span class="token function">Split</span><span class="token punctuation">(</span><span class="token string">&quot;=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">Split</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">First</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">else</span>
                result<span class="token punctuation">.</span><span class="token function">IsFailed</span><span class="token punctuation">(</span><span class="token string">&quot;code‰∏çÊ≠£Á°Æ&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">return</span> result<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
<span class="token range operator">..</span><span class="token punctuation">.</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div><p>‰ΩøÁî®<code>IHttpClientFactory</code>ÂàõÂª∫<code>HttpClient</code>ÂèØ‰ª•Ëá™Âä®ÈáäÊîæÂØπË±°ÔºåÁî®<code>HttpClient</code>ÂèëÈÄÅ‰∏Ä‰∏™POSTËØ∑Ê±ÇÔºåÂ¶ÇÊûúGitHubÊúçÂä°Âô®ÁªôÊàë‰ª¨ËøîÂõû‰∫ÜÂ∏¶access_tokenÁöÑÂ≠óÁ¨¶‰∏≤‰æøË°®Á§∫ÊàêÂäü‰∫ÜÔºåÂ∞ÜÂÖ∂Â§ÑÁêÜ‰∏Ä‰∏ãËæìÂá∫access_token„ÄÇÂ¶ÇÊûúÊ≤°ÊúâÔºåÂ∞±‰ª£Ë°®ÂèÇÊï∞codeÊúâËØØ„ÄÇ</p> <p>Âú®<code>.HttpApi</code>Â±ÇÊñ∞Âª∫‰∏Ä‰∏™<code>AuthController</code>ÊéßÂà∂Âô®ÔºåÊ≥®ÂÖ•Êàë‰ª¨ÁöÑ<code>IAuthorizeService</code>ServiceÔºåËØïËØïÊàë‰ª¨ÁöÑÊé•Âè£„ÄÇ</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token comment">//AuthController.cs</span>
<span class="token keyword">using</span> <span class="token namespace">Meowv<span class="token punctuation">.</span>Blog<span class="token punctuation">.</span>Application<span class="token punctuation">.</span>Authorize</span><span class="token punctuation">;</span>
<span class="token keyword">using</span> <span class="token namespace">Meowv<span class="token punctuation">.</span>Blog<span class="token punctuation">.</span>ToolKits<span class="token punctuation">.</span>Base</span><span class="token punctuation">;</span>
<span class="token keyword">using</span> <span class="token namespace">Microsoft<span class="token punctuation">.</span>AspNetCore<span class="token punctuation">.</span>Authorization</span><span class="token punctuation">;</span>
<span class="token keyword">using</span> <span class="token namespace">Microsoft<span class="token punctuation">.</span>AspNetCore<span class="token punctuation">.</span>Mvc</span><span class="token punctuation">;</span>
<span class="token keyword">using</span> <span class="token namespace">System<span class="token punctuation">.</span>Threading<span class="token punctuation">.</span>Tasks</span><span class="token punctuation">;</span>
<span class="token keyword">using</span> <span class="token namespace">Volo<span class="token punctuation">.</span>Abp<span class="token punctuation">.</span>AspNetCore<span class="token punctuation">.</span>Mvc</span><span class="token punctuation">;</span>
<span class="token keyword">using</span> <span class="token keyword">static</span> <span class="token class-name">Meowv<span class="token punctuation">.</span>Blog<span class="token punctuation">.</span>Domain<span class="token punctuation">.</span>Shared<span class="token punctuation">.</span>MeowvBlogConsts</span><span class="token punctuation">;</span>

<span class="token keyword">namespace</span> <span class="token namespace">Meowv<span class="token punctuation">.</span>Blog<span class="token punctuation">.</span>HttpApi<span class="token punctuation">.</span>Controllers</span>
<span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">ApiController</span></span><span class="token punctuation">]</span>
    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">AllowAnonymous</span></span><span class="token punctuation">]</span>
    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Route</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token string">&quot;[controller]&quot;</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">ApiExplorerSettings</span><span class="token attribute-arguments"><span class="token punctuation">(</span>GroupName <span class="token operator">=</span> Grouping<span class="token punctuation">.</span>GroupName_v4<span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AuthController</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">AbpController</span></span>
    <span class="token punctuation">{</span>
        <span class="token keyword">private</span> <span class="token keyword">readonly</span> <span class="token class-name">IAuthorizeService</span> _authorizeService<span class="token punctuation">;</span>

        <span class="token keyword">public</span> <span class="token function">AuthController</span><span class="token punctuation">(</span><span class="token class-name">IAuthorizeService</span> authorizeService<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            _authorizeService <span class="token operator">=</span> authorizeService<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">/// &lt;summary&gt;</span>
        <span class="token comment">/// Ëé∑ÂèñÁôªÂΩïÂú∞ÂùÄ(GitHub)</span>
        <span class="token comment">/// &lt;/summary&gt;</span>
        <span class="token comment">/// &lt;returns&gt;&lt;/returns&gt;</span>
        <span class="token punctuation">[</span>HttpGet<span class="token punctuation">]</span>
        <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Route</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token string">&quot;url&quot;</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
        <span class="token keyword">public</span> <span class="token keyword">async</span> <span class="token return-type class-name">Task<span class="token punctuation">&lt;</span>ServiceResult<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token function">GetLoginAddressAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token keyword">await</span> _authorizeService<span class="token punctuation">.</span><span class="token function">GetLoginAddressAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">/// &lt;summary&gt;</span>
        <span class="token comment">/// Ëé∑ÂèñAccessToken</span>
        <span class="token comment">/// &lt;/summary&gt;</span>
        <span class="token comment">/// &lt;param name=&quot;code&quot;&gt;&lt;/param&gt;</span>
        <span class="token comment">/// &lt;returns&gt;&lt;/returns&gt;</span>
        <span class="token punctuation">[</span>HttpGet<span class="token punctuation">]</span>
        <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Route</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token string">&quot;access_token&quot;</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
        <span class="token keyword">public</span> <span class="token keyword">async</span> <span class="token return-type class-name">Task<span class="token punctuation">&lt;</span>ServiceResult<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token function">GetAccessTokenAsync</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span></span> code<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token keyword">await</span> _authorizeService<span class="token punctuation">.</span><span class="token function">GetAccessTokenAsync</span><span class="token punctuation">(</span>code<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br></div></div><p>Ê≥®ÊÑèËøôÈáåÊàë‰ª¨Ê∑ªÂä†‰∫Ü‰∏§‰∏™AttributeÔºö[AllowAnonymous]„ÄÅ[ApiExplorerSettings(GroupName = Grouping.GroupName_v4)]ÔºåÂú®<code>.Swagger</code>Â±Ç‰∏≠‰∏∫<code>AuthController</code>Ê∑ªÂä†ÊèèËø∞‰ø°ÊÅØ</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token range operator">..</span><span class="token punctuation">.</span>
<span class="token keyword">new</span> <span class="token constructor-invocation class-name">OpenApiTag</span> <span class="token punctuation">{</span>
    Name <span class="token operator">=</span> <span class="token string">&quot;Auth&quot;</span><span class="token punctuation">,</span>
    Description <span class="token operator">=</span> <span class="token string">&quot;JWTÊ®°ÂºèËÆ§ËØÅÊéàÊùÉ&quot;</span><span class="token punctuation">,</span>
    ExternalDocs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">OpenApiExternalDocs</span> <span class="token punctuation">{</span> Description <span class="token operator">=</span> <span class="token string">&quot;JSON Web Token&quot;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token range operator">..</span><span class="token punctuation">.</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>ÊâìÂºÄSwaggerÊñáÊ°£ÔºåË∞ÉÁî®‰∏Ä‰∏ãÊàë‰ª¨‰∏§‰∏™Êé•Âè£ÁúãÁúãÊïàÊûú„ÄÇ</p> <p><img src="/assets/img/generate-jwt-with-github-03.4d3e4e53.png" alt=" "></p> <p>ÁÑ∂ÂêéÊâìÂºÄÊàë‰ª¨ÁîüÊàêÁöÑÈáçÂÆöÂêëÂú∞ÂùÄÔºå‰ºöË∑≥ËΩ¨Âà∞ÁôªÂΩïÈ°µÈù¢ÔºåÂ¶Ç‰∏ãÔºö</p> <p><img src="/assets/img/generate-jwt-with-github-04.32e3f3ea.png" alt=" "></p> <p>ÁÇπÂáªAuthorizeÊåâÈíÆÔºåÁôªÂΩïÊàêÂäüÂêé‰ºöË∑≥ËΩ¨Ëá≥Êàë‰ª¨ÈÖçÁΩÆÁöÑÂõûË∞ÉÈ°µÈù¢Ôºå.../account/auth?code=10b7a58c7ba2e4414a14&amp;state=a1ef05212c3b4a2cb2bbd87846dd4a8e</p> <p>ÁÑ∂ÂêéÊãøÂà∞code(10b7a58c7ba2e4414a14)ÔºåÂú®ÂéªË∞ÉÁî®‰∏Ä‰∏ãËé∑ÂèñAccessTokenÊé•Âè£ÔºåÊàêÂäüËøîÂõûÊàë‰ª¨ÁöÑaccess_token(97eeafd5ca01b3719f74fc928440c89d59f2eeag)„ÄÇ</p> <p><img src="/assets/img/generate-jwt-with-github-05.7504cc59.png" alt=" "></p> <p>ÊãøÂà∞access_tokenÔºåÂ∞±ÂèØ‰ª•ÂéªË∞ÉÁî®Ëé∑ÂèñÁî®Êà∑‰ø°ÊÅØAPI‰∫Ü„ÄÇÂú®Ëøô‰πãÂâçÊàë‰ª¨ÂÖàÊù•ÂÜôÂá†‰∏™Êâ©Â±ïÊñπÊ≥ïÔºåÂæÖ‰ºöÂíå‰ª•ÂêéÈÉΩÁî®ÂæóÁùÄÔºåÂú®<code>.ToolKits</code>Â±ÇÊñ∞Âª∫Êñá‰ª∂Â§πExtensionsÔºåÊ∑ªÂä†Âá†‰∏™ÊØîËæÉÂ∏∏Áî®ÁöÑÊâ©Â±ïÁ±ª(...)„ÄÇ</p> <p>Êâ©Â±ïÁ±ªÁöÑ‰ª£Á†ÅÊàëÂ∞±‰∏çË¥¥Âá∫Êù•‰∫Ü„ÄÇÂ§ßÂÆ∂ÂèØ‰ª•ÂéªGitHub(<a href="https://github.com/Meowv/Blog/tree/blog_tutorial/src/Meowv.Blog.ToolKits/Extensions" target="_blank" rel="noopener noreferrer">https://github.com/Meowv/Blog/tree/blog_tutorial/src/Meowv.Blog.ToolKits/Extensions<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>)Ëá™Ë°å‰∏ãËΩΩÔºåÊØè‰∏™Êâ©Â±ïÊñπÊ≥ïÈÉΩÊúâÂÖ∑‰ΩìÁöÑÊ≥®Èáä„ÄÇ</p> <p>Êé•‰∏ãÊù•ÂÆûÁé∞<code>GenerateTokenAsync(string access_token)</code>ÔºåÁîüÊàêToken„ÄÇ</p> <p>Êúâ‰∫Üaccess_tokenÔºåÂèØ‰ª•Áõ¥Êé•Ë∞ÉÁî®Ëé∑ÂèñÁî®Êà∑‰ø°ÊÅØÁöÑÊé•Âè£Ôºö<a href="https://api.github.com/user?access_token=97eeafd5ca01b3719f74fc928440c89d59f2eeag" target="_blank" rel="noopener noreferrer">https://api.github.com/user?access_token=97eeafd5ca01b3719f74fc928440c89d59f2eeag<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> Ôºå‰ºöÂæóÂà∞‰∏Ä‰∏™jsonÔºåÂ∞ÜËøô‰∏™jsonÂåÖË£ÖÊàê‰∏Ä‰∏™Ê®°ÂûãÁ±ª<code>UserResponse.cs</code>„ÄÇ</p> <p>Âú®ËøôÈáåÊïôÂ§ßÂÆ∂‰∏Ä‰∏™Â∞èÊäÄÂ∑ßÔºåÂ¶ÇÊûú‰Ω†ÈúÄË¶ÅÂ∞ÜjsonÊàñËÄÖxmlËΩ¨Êç¢ÊàêÊ®°ÂûãÁ±ªÔºåÂèØ‰ª•‰ΩøÁî®Visual StudioÁöÑ‰∏Ä‰∏™Âø´Êç∑ÂäüËÉΩÔºåÁÇπÂáªÂ∑¶‰∏äËßíËèúÂçïÔºöÁºñËæë =&gt; ÈÄâÊã©ÊÄßÁ≤òË¥¥ =&gt; Â∞ÜJSONÁ≤òË¥¥‰∏∫Á±ª/Â∞ÜXMLÁ≤òË¥¥‰∏∫Á±ªÔºåÊòØ‰∏çÊòØÂæàÊñπ‰æøÔºåÂø´ÂéªËØïËØïÂêß„ÄÇ</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token comment">//UserResponse.cs</span>
<span class="token keyword">namespace</span> <span class="token namespace">Meowv<span class="token punctuation">.</span>Blog<span class="token punctuation">.</span>ToolKits<span class="token punctuation">.</span>GitHub</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserResponse</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Login <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> Id <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Avatar_url <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Html_url <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Repos_url <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Name <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Company <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Blog <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Location <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Email <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Bio <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> Public_repos <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div><p>ÁÑ∂ÂêéÁúã‰∏Ä‰∏ãÂÖ∑‰ΩìÁîüÊàêtokenÁöÑÊñπÊ≥ïÂêß„ÄÇ</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token range operator">..</span><span class="token punctuation">.</span>
        <span class="token comment">/// &lt;summary&gt;</span>
        <span class="token comment">/// ÁôªÂΩïÊàêÂäüÔºåÁîüÊàêToken</span>
        <span class="token comment">/// &lt;/summary&gt;</span>
        <span class="token comment">/// &lt;param name=&quot;access_token&quot;&gt;&lt;/param&gt;</span>
        <span class="token comment">/// &lt;returns&gt;&lt;/returns&gt;</span>
        <span class="token keyword">public</span> <span class="token keyword">async</span> <span class="token return-type class-name">Task<span class="token punctuation">&lt;</span>ServiceResult<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token function">GenerateTokenAsync</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span></span> access_token<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token class-name"><span class="token keyword">var</span></span> result <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">ServiceResult<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">string</span><span class="token punctuation">.</span><span class="token function">IsNullOrEmpty</span><span class="token punctuation">(</span>access_token<span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                result<span class="token punctuation">.</span><span class="token function">IsFailed</span><span class="token punctuation">(</span><span class="token string">&quot;access_token‰∏∫Á©∫&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">return</span> result<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            <span class="token class-name"><span class="token keyword">var</span></span> url <span class="token operator">=</span> <span class="token interpolation-string"><span class="token string">$&quot;</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">GitHubConfig<span class="token punctuation">.</span>API_User</span><span class="token punctuation">}</span></span><span class="token string">?access_token=</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">access_token</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">;</span>
            <span class="token keyword">using</span> <span class="token class-name"><span class="token keyword">var</span></span> client <span class="token operator">=</span> _httpClient<span class="token punctuation">.</span><span class="token function">CreateClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            client<span class="token punctuation">.</span>DefaultRequestHeaders<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token string">&quot;User-Agent&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/83.0.4103.14 Safari/537.36 Edg/83.0.478.13&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name"><span class="token keyword">var</span></span> httpResponse <span class="token operator">=</span> <span class="token keyword">await</span> client<span class="token punctuation">.</span><span class="token function">GetAsync</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>httpResponse<span class="token punctuation">.</span>StatusCode <span class="token operator">!=</span> HttpStatusCode<span class="token punctuation">.</span>OK<span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                result<span class="token punctuation">.</span><span class="token function">IsFailed</span><span class="token punctuation">(</span><span class="token string">&quot;access_token‰∏çÊ≠£Á°Æ&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">return</span> result<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            <span class="token class-name"><span class="token keyword">var</span></span> content <span class="token operator">=</span> <span class="token keyword">await</span> httpResponse<span class="token punctuation">.</span>Content<span class="token punctuation">.</span><span class="token function">ReadAsStringAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token class-name"><span class="token keyword">var</span></span> user <span class="token operator">=</span> content<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">FromJson</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>UserResponse<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>user<span class="token punctuation">.</span><span class="token function">IsNull</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                result<span class="token punctuation">.</span><span class="token function">IsFailed</span><span class="token punctuation">(</span><span class="token string">&quot;Êú™Ëé∑ÂèñÂà∞Áî®Êà∑Êï∞ÊçÆ&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">return</span> result<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            <span class="token keyword">if</span> <span class="token punctuation">(</span>user<span class="token punctuation">.</span>Id <span class="token operator">!=</span> GitHubConfig<span class="token punctuation">.</span>UserId<span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                result<span class="token punctuation">.</span><span class="token function">IsFailed</span><span class="token punctuation">(</span><span class="token string">&quot;ÂΩìÂâçË¥¶Âè∑Êú™ÊéàÊùÉ&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">return</span> result<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            <span class="token class-name"><span class="token keyword">var</span></span> claims <span class="token operator">=</span> <span class="token keyword">new</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">{</span>
                    <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Claim</span><span class="token punctuation">(</span>ClaimTypes<span class="token punctuation">.</span>Name<span class="token punctuation">,</span> user<span class="token punctuation">.</span>Name<span class="token punctuation">)</span><span class="token punctuation">,</span>
                    <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Claim</span><span class="token punctuation">(</span>ClaimTypes<span class="token punctuation">.</span>Email<span class="token punctuation">,</span> user<span class="token punctuation">.</span>Email<span class="token punctuation">)</span><span class="token punctuation">,</span>
                    <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Claim</span><span class="token punctuation">(</span>JwtRegisteredClaimNames<span class="token punctuation">.</span>Exp<span class="token punctuation">,</span> <span class="token interpolation-string"><span class="token string">$&quot;</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token keyword">new</span> <span class="token constructor-invocation class-name">DateTimeOffset</span><span class="token punctuation">(</span>DateTime<span class="token punctuation">.</span>Now<span class="token punctuation">.</span><span class="token function">AddMinutes</span><span class="token punctuation">(</span>AppSettings<span class="token punctuation">.</span>JWT<span class="token punctuation">.</span>Expires<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ToUnixTimeSeconds</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                    <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Claim</span><span class="token punctuation">(</span>JwtRegisteredClaimNames<span class="token punctuation">.</span>Nbf<span class="token punctuation">,</span> <span class="token interpolation-string"><span class="token string">$&quot;</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token keyword">new</span> <span class="token constructor-invocation class-name">DateTimeOffset</span><span class="token punctuation">(</span>DateTime<span class="token punctuation">.</span>Now<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ToUnixTimeSeconds</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
                <span class="token punctuation">}</span><span class="token punctuation">;</span>

            <span class="token class-name"><span class="token keyword">var</span></span> key <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">SymmetricSecurityKey</span><span class="token punctuation">(</span>AppSettings<span class="token punctuation">.</span>JWT<span class="token punctuation">.</span>SecurityKey<span class="token punctuation">.</span><span class="token function">SerializeUtf8</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name"><span class="token keyword">var</span></span> creds <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">SigningCredentials</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> SecurityAlgorithms<span class="token punctuation">.</span>HmacSha256<span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token class-name"><span class="token keyword">var</span></span> securityToken <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">JwtSecurityToken</span><span class="token punctuation">(</span>
                <span class="token named-parameter punctuation">issuer</span><span class="token punctuation">:</span> AppSettings<span class="token punctuation">.</span>JWT<span class="token punctuation">.</span>Domain<span class="token punctuation">,</span>
                <span class="token named-parameter punctuation">audience</span><span class="token punctuation">:</span> AppSettings<span class="token punctuation">.</span>JWT<span class="token punctuation">.</span>Domain<span class="token punctuation">,</span>
                <span class="token named-parameter punctuation">claims</span><span class="token punctuation">:</span> claims<span class="token punctuation">,</span>
                <span class="token named-parameter punctuation">expires</span><span class="token punctuation">:</span> DateTime<span class="token punctuation">.</span>Now<span class="token punctuation">.</span><span class="token function">AddMinutes</span><span class="token punctuation">(</span>AppSettings<span class="token punctuation">.</span>JWT<span class="token punctuation">.</span>Expires<span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token named-parameter punctuation">signingCredentials</span><span class="token punctuation">:</span> creds<span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token class-name"><span class="token keyword">var</span></span> token <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">JwtSecurityTokenHandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">WriteToken</span><span class="token punctuation">(</span>securityToken<span class="token punctuation">)</span><span class="token punctuation">;</span>

            result<span class="token punctuation">.</span><span class="token function">IsSuccess</span><span class="token punctuation">(</span>token<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token keyword">await</span> Task<span class="token punctuation">.</span><span class="token function">FromResult</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
<span class="token range operator">..</span><span class="token punctuation">.</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br></div></div><p>GitHubÁöÑËøô‰∏™APIÂÅö‰∫ÜÁõ∏Â∫îÁöÑÂÆâÂÖ®Êú∫Âà∂ÔºåÊúâ‰∏ÄÁÇπË¶ÅÊ≥®ÊÑè‰∏Ä‰∏ãÔºåÂΩìÊàë‰ª¨Áî®‰ª£Á†ÅÂéªÊ®°ÊãüËØ∑Ê±ÇÁöÑÊó∂ÂÄôÔºåÈúÄË¶ÅÁªô‰ªñÂä†‰∏ä<code>User-Agent</code>Ôºå‰∏çÁÑ∂ÊòØ‰∏ç‰ºöÊàêÂäüËøîÂõûÁªìÊûúÁöÑ„ÄÇ</p> <p><code>FromJson&lt;T&gt;</code>ÊòØ‰πãÂâçÊàë‰ª¨Ê∑ªÂä†ÁöÑÊâ©Â±ïÊñπÊ≥ïÔºåÂ∞ÜJSONÂ≠óÁ¨¶‰∏≤ËΩ¨‰∏∫ÂÆû‰ΩìÂØπË±°„ÄÇ</p> <p><code>SymmetricSecurityKey(byte[] key)</code>Êé•Êî∂‰∏Ä‰∏™<code>byte[]</code>ÂèÇÊï∞ÔºåËøôÈáå‰πüÁî®Âà∞‰∏Ä‰∏™Êâ©Â±ïÊñπÊ≥ï<code>SerializeUtf8()</code>Â≠óÁ¨¶‰∏≤Â∫èÂàóÂåñÊàêÂ≠óËäÇÂ∫èÂàó„ÄÇ</p> <p>Êàë‰ª¨Âà§Êñ≠ËøîÂõûÁöÑIdÊòØÂê¶‰∏∫Êàë‰ª¨ÈÖçÁΩÆÁöÑÁî®Êà∑IdÔºåÂ¶ÇÊûúÊòØÁöÑËØùÔºåÂ∞±È™åËØÅÊàêÂäüÔºåËøõË°åÊéàÊùÉÔºåÁîüÊàêToken„ÄÇ</p> <p>ÁîüÊàêTokenÁöÑ‰ª£Á†Å‰πüÂæàÁÆÄÂçïÔºåÊåáÂÆö‰∫Ü NameÔºåEmailÔºåËøáÊúüÊó∂Èó¥‰∏∫30ÂàÜÈíü„ÄÇÂÖ∑‰ΩìÂêÑÈ°πÂê´‰πâÂèØ‰ª•ÂéªËøôÈáåÁúãÁúãÔºö<a href="https://tools.ietf.org/html/rfc7519" target="_blank" rel="noopener noreferrer">https://tools.ietf.org/html/rfc7519<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>„ÄÇ</p> <p>ÊúÄÂêéË∞ÉÁî®<code>new JwtSecurityTokenHandler().WriteToken(SecurityToken token)</code>‰æøÂèØÊàêÂäüÁîüÊàêTokenÔºåÂú®ControllerÊ∑ªÂä†Â•ΩÔºåÂéªËØïËØïÂêß„ÄÇ</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token range operator">..</span><span class="token punctuation">.</span>
        <span class="token comment">/// &lt;summary&gt;</span>
        <span class="token comment">/// ÁôªÂΩïÊàêÂäüÔºåÁîüÊàêToken</span>
        <span class="token comment">/// &lt;/summary&gt;</span>
        <span class="token comment">/// &lt;param name=&quot;access_token&quot;&gt;&lt;/param&gt;</span>
        <span class="token comment">/// &lt;returns&gt;&lt;/returns&gt;</span>
        <span class="token punctuation">[</span>HttpGet<span class="token punctuation">]</span>
        <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Route</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token string">&quot;token&quot;</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
        <span class="token keyword">public</span> <span class="token keyword">async</span> <span class="token return-type class-name">Task<span class="token punctuation">&lt;</span>ServiceResult<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token function">GenerateTokenAsync</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span></span> access_token<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token keyword">await</span> _authorizeService<span class="token punctuation">.</span><span class="token function">GenerateTokenAsync</span><span class="token punctuation">(</span>access_token<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
<span class="token range operator">..</span><span class="token punctuation">.</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p><img src="/assets/img/generate-jwt-with-github-06.68f1a0bc.png" alt=" "></p> <p>Â∞Ü‰πãÂâçÊãøÂà∞ÁöÑaccess_token‰º†ËøõÂéªÔºåË∞ÉÁî®Êé•Âè£ÂèØ‰ª•ÁúãÂà∞Â∑≤ÁªèÊàêÂäüÁîüÊàê‰∫Ütoken„ÄÇ</p> <p>ÂâçÈù¢‰∏∫<code>AuthController</code>Ê∑ªÂä†‰∫Ü‰∏Ä‰∏™AttributeÔºö<code>[AllowAnonymous]</code>Ôºå‰ª£Ë°®Ëøô‰∏™Controller‰∏ãÁöÑÊé•Âè£ÈÉΩ‰∏çÈúÄË¶ÅÊéàÊùÉÔºåÂ∞±ÂèØ‰ª•ËÆøÈóÆÔºåÂΩìÁÑ∂‰Ω†‰∏çÊ∑ªÂä†ÁöÑËØùÈªòËÆ§‰πüÊòØÂºÄÊîæÁöÑ„ÄÇÂèØ‰ª•‰∏∫Êï¥‰∏™ControllerÊåáÂÆöÔºåÂêåÊó∂‰πüÂèØ‰ª•‰∏∫ÂÖ∑‰ΩìÁöÑÊé•Âè£ÊåáÂÆö„ÄÇ</p> <p>ÂΩìÊÉ≥Ë¶Å‰øùÊä§Êüê‰∏™Êé•Âè£Êó∂ÔºåÂè™ÈúÄË¶ÅÂä†‰∏äAttributeÔºö<code>[Authorize]</code>Â∞±ÂèØ‰ª•‰∫Ü„ÄÇÁé∞Âú®Êù•‰øùÊä§Êàë‰ª¨ÁöÑ<code>BlogController</code>‰∏ãÈùûÊü•ËØ¢Êé•Âè£ÔºåÁªôÂ¢ûÂà†ÊîπÊ∑ªÂä†‰∏ä<code>[Authorize]</code>ÔºåÊ≥®ÊÑèÂºïÁî®ÂëΩÂêçÁ©∫Èó¥<code>Microsoft.AspNetCore.Authorization</code>„ÄÇ</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token range operator">..</span><span class="token punctuation">.</span>
        <span class="token range operator">..</span><span class="token punctuation">.</span>
        <span class="token comment">/// &lt;summary&gt;</span>
        <span class="token comment">/// Ê∑ªÂä†ÂçöÂÆ¢</span>
        <span class="token comment">/// &lt;/summary&gt;</span>
        <span class="token comment">/// &lt;param name=&quot;dto&quot;&gt;&lt;/param&gt;</span>
        <span class="token comment">/// &lt;returns&gt;&lt;/returns&gt;</span>
        <span class="token punctuation">[</span>HttpPost<span class="token punctuation">]</span>
        <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Authorize</span></span><span class="token punctuation">]</span>
        <span class="token keyword">public</span> <span class="token keyword">async</span> <span class="token return-type class-name">Task<span class="token punctuation">&lt;</span>ServiceResult<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token function">InsertPostAsync</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">FromBody</span></span><span class="token punctuation">]</span> <span class="token class-name">PostDto</span> dto<span class="token punctuation">)</span>
        <span class="token range operator">..</span><span class="token punctuation">.</span>

        <span class="token comment">/// &lt;summary&gt;</span>
        <span class="token comment">/// Âà†Èô§ÂçöÂÆ¢</span>
        <span class="token comment">/// &lt;/summary&gt;</span>
        <span class="token comment">/// &lt;param name=&quot;id&quot;&gt;&lt;/param&gt;</span>
        <span class="token comment">/// &lt;returns&gt;&lt;/returns&gt;</span>
        <span class="token punctuation">[</span>HttpDelete<span class="token punctuation">]</span>
        <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Authorize</span></span><span class="token punctuation">]</span>
        <span class="token keyword">public</span> <span class="token keyword">async</span> <span class="token return-type class-name">Task<span class="token punctuation">&lt;</span>ServiceResult<span class="token punctuation">&gt;</span></span> <span class="token function">DeletePostAsync</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Required</span></span><span class="token punctuation">]</span> <span class="token class-name"><span class="token keyword">int</span></span> id<span class="token punctuation">)</span>
        <span class="token range operator">..</span><span class="token punctuation">.</span>

        <span class="token comment">/// &lt;summary&gt;</span>
        <span class="token comment">/// Êõ¥Êñ∞ÂçöÂÆ¢</span>
        <span class="token comment">/// &lt;/summary&gt;</span>
        <span class="token comment">/// &lt;param name=&quot;id&quot;&gt;&lt;/param&gt;</span>
        <span class="token comment">/// &lt;param name=&quot;dto&quot;&gt;&lt;/param&gt;</span>
        <span class="token comment">/// &lt;returns&gt;&lt;/returns&gt;</span>
        <span class="token punctuation">[</span>HttpPut<span class="token punctuation">]</span>
        <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Authorize</span></span><span class="token punctuation">]</span>
        <span class="token keyword">public</span> <span class="token keyword">async</span> <span class="token return-type class-name">Task<span class="token punctuation">&lt;</span>ServiceResult<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token function">UpdatePostAsync</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Required</span></span><span class="token punctuation">]</span> <span class="token class-name"><span class="token keyword">int</span></span> id<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">FromBody</span></span><span class="token punctuation">]</span> <span class="token class-name">PostDto</span> dto<span class="token punctuation">)</span>
        <span class="token range operator">..</span><span class="token punctuation">.</span>

        <span class="token comment">/// &lt;summary&gt;</span>
        <span class="token comment">/// Êü•ËØ¢ÂçöÂÆ¢</span>
        <span class="token comment">/// &lt;/summary&gt;</span>
        <span class="token comment">/// &lt;param name=&quot;id&quot;&gt;&lt;/param&gt;</span>
        <span class="token comment">/// &lt;returns&gt;&lt;/returns&gt;</span>
        <span class="token punctuation">[</span>HttpGet<span class="token punctuation">]</span>
        <span class="token keyword">public</span> <span class="token keyword">async</span> <span class="token return-type class-name">Task<span class="token punctuation">&lt;</span>ServiceResult<span class="token punctuation">&lt;</span>PostDto<span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token function">GetPostAsync</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Required</span></span><span class="token punctuation">]</span> <span class="token class-name"><span class="token keyword">int</span></span> id<span class="token punctuation">)</span>
        <span class="token range operator">..</span><span class="token punctuation">.</span>
<span class="token range operator">..</span><span class="token punctuation">.</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br></div></div><p>Áé∞Âú®ÁºñËØëËøêË°å‰∏Ä‰∏ãÔºåË∞ÉÁî®‰∏äÈù¢ÁöÑÂ¢ûÂà†ÊîπÁúãÁúãËÉΩ‰∏çËÉΩÊàêÂäüÔºü</p> <p><img src="/assets/img/generate-jwt-with-github-07.37410634.png" alt=" "></p> <p>ËøôÊó∂Êé•Âè£Â∞±‰ºöÁõ¥Êé•ÁªôÊàë‰ª¨ËøîÂõû‰∏Ä‰∏™Áä∂ÊÄÅÁ†Å‰∏∫401ÁöÑÈîôËØØÔºå‰∏∫‰∫ÜÈÅøÂÖçËøôÁßç‰∏çÂèãÂ•ΩÁöÑÈîôËØØÔºåÊàë‰ª¨ÂèØ‰ª•Ê∑ªÂä†‰∏Ä‰∏™‰∏≠Èó¥‰ª∂Êù•Â§ÑÁêÜÊàë‰ª¨ÁöÑÁÆ°ÈÅìËØ∑Ê±ÇÊàñËÄÖÂú®<code>AddJwtBearer()</code>‰∏≠Â§ÑÁêÜÊàë‰ª¨ÁöÑË∫´‰ªΩÈ™åËØÅ‰∫ã‰ª∂Êú∫Âà∂ÔºåÂΩìÈÅáÂà∞ÈîôËØØÁöÑÁä∂ÊÄÅÁ†ÅÊó∂ÔºåÊàë‰ª¨ËøòÊòØËøîÂõûÊàë‰ª¨‰πãÂâçÁöÑÂàõÂª∫ÁöÑÊ®°ÂûãÔºåÂÆö‰πâÂèãÂ•ΩÁöÑËøîÂõûÈîôËØØÔºåÂ∞ÜÂú®ÂêéÈù¢ÁØáÁ´†‰∏≠ÁªôÂá∫ÂÖ∑‰ΩìÊñπÊ≥ï„ÄÇ</p> <p>ÂèØ‰ª•ÁúãÂà∞ÂÖ¨ÂºÄÁöÑAPIÂíåÈúÄË¶ÅÊéàÊùÉÁöÑAPIÂ∞èÁªøÈîÅÊòØ‰∏ç‰∏ÄÊ†∑ÁöÑÔºåÂÖ¨ÂºÄÁöÑÊòæÁ§∫‰∏∫ÈªëËâ≤ÔºåÈúÄË¶ÅÊéàÊùÉÁöÑÊòæÁ§∫‰∏∫ÁÅ∞Ëâ≤„ÄÇ</p> <p>Â¶ÇÊûúÈúÄË¶ÅÂú®Swagger‰∏≠Ë∞ÉÁî®Êàë‰ª¨ÁöÑÈùûÂÖ¨ÂºÄAPIÔºåË¶ÅÊÄé‰πàÂÅöÂë¢ÔºüÁÇπÂáªÊàë‰ª¨ÁöÑÂ∞èÁªøÈîÅÂ∞ÜÁîüÊàêÁöÑtokenÊåâÁÖß<code>Bearer {Token}</code>ÁöÑÊñπÂºèÂ°´ËøõÂéªÂç≥ÂèØ„ÄÇ</p> <p><img src="/assets/img/generate-jwt-with-github-08.caf7dc87.png" alt=" "></p> <p>Ê≥®ÊÑè‰∏çË¶ÅÁÇπLogoutÔºåÂê¶ÂàôÂ∞±ÈÄÄÂá∫‰∫Ü„ÄÇ</p> <p><img src="/assets/img/generate-jwt-with-github-09.8643107f.png" alt=" "></p> <p>ÂèØ‰ª•ÁúãÂà∞ÂΩìÊàë‰ª¨ËØ∑Ê±ÇÁöÑÊó∂ÂÄôÔºåËØ∑Ê±ÇÂ§¥‰∏äÂ§ö‰∫Ü‰∏Ä‰∏™<code>authorization: Bearer {token}</code>ÔºåÊ≠§Êó∂‰æøÂ§ßÂäüÂëäÊàê‰∫Ü„ÄÇÂΩìÊàë‰ª¨Âú®web‰∏≠Ë∞ÉÁî®ÁöÑÊó∂ÂÄôÔºå‰πüÈÅµÂæ™Ëøô‰∏™ËßÑÂàôÂç≥ÂèØ„ÄÇ</p> <blockquote><p>ÁâπÂà´ÊèêÁ§∫</p></blockquote> <p>Âú®ÊàëÂÅöÊéàÊùÉÁöÑÊó∂ÂÄôÔºåtoken‰πüÁîüÊàêÊàêÂäü‰∫ÜÔºå‰πüÂú®Swagger‰∏≠Ê≠£Á°ÆÂ°´ÂÜôBearer {token}‰∫Ü„ÄÇË∞ÉÁî®Êé•Âè£ÁöÑÊó∂ÂÄôÂßãÁªàËøòÊòØËøîÂõû401ÔºåÊúÄÁªàÂèëÁé∞ÂØºËá¥Ëøô‰∏™ÈóÆÈ¢òÁöÑÂéüÂõ†ÊòØÂú®ÈÖçÁΩÆSwaggerÂ∞èÁªøÈîÅÊó∂‰∏Ä‰∏™ÈîôËØØÂêçÁß∞ÂØºËá¥ÁöÑ„ÄÇ</p> <p><img src="/assets/img/generate-jwt-with-github-10.4bf7d1f0.png" alt=" "></p> <p>Áúã‰ªñÁöÑÊèèËø∞‰∏∫ÔºöA unique name for the scheme, as per the Swagger spec.(Ê†πÊçÆSwaggerËßÑËåÉÔºåËØ•ÊñπÊ°àÁöÑÂîØ‰∏ÄÂêçÁß∞)</p> <p>Â¶ÇÂõæÔºåÂ∞ÜÂÖ∂ÂêçÁß∞Êîπ‰∏∫ &quot;oauth2&quot; Ôºå‰æøÂèØ‰ª•ÊàêÂäüÊéàÊùÉ„ÄÇÊú¨ÁØáÊé•ÂÖ•‰∫ÜGitHubÔºåÂÆûÁé∞‰∫ÜËÆ§ËØÅÂíåÊéàÊùÉÔºåÁî®JWTÁöÑÊñπÂºè‰øùÊä§Êàë‰ª¨ÂÜôÁöÑAPIÔºå‰Ω†Â≠¶‰ºö‰∫ÜÂêóÔºüüòÅüòÅüòÅ</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/meowv/docs/edit/master//aspnetcore/abp-blog/generate-jwt-with-github.md" target="_blank" rel="noopener noreferrer">Âú® GitHub ‰∏äÁºñËæëÊ≠§È°µ</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">‰∏äÊ¨°Êõ¥Êñ∞:</span> <span class="time">a year ago</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ‚Üê
      <a href="/aspnetcore/abp-blog/swagger-group-describe-authorize.html" class="prev">
        ÂÜçËØ¥SwaggerÔºåÂàÜÁªÑ„ÄÅÊèèËø∞„ÄÅÂ∞èÁªøÈîÅ
      </a></span> <span class="next"><a href="/aspnetcore/abp-blog/exception-and-logging.html">
        ÂºÇÂ∏∏Â§ÑÁêÜÂíåÊó•ÂøóËÆ∞ÂΩï
      </a>
      ‚Üí
    </span></p></div> </main></div><div class="global-ui"><canvas id="vuepress-canvas-cursor"></canvas><!----><!----></div></div>
    <script src="/assets/js/app.81a593d8.js" defer></script><script src="/assets/js/2.57e15c9d.js" defer></script><script src="/assets/js/7.049bd8e9.js" defer></script>
  </body>
</html>
